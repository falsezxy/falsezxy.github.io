<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Kubernetesäº†è§£ä¸æ­å»º | Felixçš„ä¸ªäººåšå®¢</title><meta name="author" content="Felix"><meta name="copyright" content="Felix"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Kubernetesäº†è§£ä¸æ­å»ºKubernetes ä»‹ç»Kubernetesï¼ˆç®€ç§° K8sï¼‰æ˜¯ Google å¼€æºçš„å®¹å™¨ç¼–æ’ç®¡ç†å¹³å°ï¼Œç”¨äºè‡ªåŠ¨åŒ–éƒ¨ç½²ã€æ‰©ç¼©å®¹ã€è´Ÿè½½å‡è¡¡å’Œç›‘æ§å®¹å™¨åŒ–åº”ç”¨ã€‚ ä¸ºä»€ä¹ˆéœ€è¦ Kubernetesï¼Ÿåœ¨ä¼ ç»Ÿå¾®æœåŠ¡æ¶æ„ä¸­ï¼Œåº”ç”¨éƒ¨ç½²ã€æ‰©å®¹ã€å‡çº§é€šå¸¸éœ€è¦æ‰‹åŠ¨å¹²é¢„ï¼Œè¿ç»´æˆæœ¬é«˜ä¸”å®¹é”™èƒ½åŠ›å¼±ã€‚è€Œ Kubernetes å°†è¿™äº›èƒ½åŠ›è‡ªåŠ¨åŒ–ã€å¹³å°åŒ–ï¼š  åº”ç”¨äº¤ç»™ K8s â†’ èµ„æºè°ƒåº¦ã€è´Ÿè½½å‡è¡¡ã€">
<meta property="og:type" content="article">
<meta property="og:title" content="Kubernetesäº†è§£ä¸æ­å»º">
<meta property="og:url" content="http://example.com/2025/12/03/Kubernetes%E4%BA%86%E8%A7%A3%E4%B8%8E%E6%90%AD%E5%BB%BA/index.html">
<meta property="og:site_name" content="Felixçš„ä¸ªäººåšå®¢">
<meta property="og:description" content="Kubernetesäº†è§£ä¸æ­å»ºKubernetes ä»‹ç»Kubernetesï¼ˆç®€ç§° K8sï¼‰æ˜¯ Google å¼€æºçš„å®¹å™¨ç¼–æ’ç®¡ç†å¹³å°ï¼Œç”¨äºè‡ªåŠ¨åŒ–éƒ¨ç½²ã€æ‰©ç¼©å®¹ã€è´Ÿè½½å‡è¡¡å’Œç›‘æ§å®¹å™¨åŒ–åº”ç”¨ã€‚ ä¸ºä»€ä¹ˆéœ€è¦ Kubernetesï¼Ÿåœ¨ä¼ ç»Ÿå¾®æœåŠ¡æ¶æ„ä¸­ï¼Œåº”ç”¨éƒ¨ç½²ã€æ‰©å®¹ã€å‡çº§é€šå¸¸éœ€è¦æ‰‹åŠ¨å¹²é¢„ï¼Œè¿ç»´æˆæœ¬é«˜ä¸”å®¹é”™èƒ½åŠ›å¼±ã€‚è€Œ Kubernetes å°†è¿™äº›èƒ½åŠ›è‡ªåŠ¨åŒ–ã€å¹³å°åŒ–ï¼š  åº”ç”¨äº¤ç»™ K8s â†’ èµ„æºè°ƒåº¦ã€è´Ÿè½½å‡è¡¡ã€">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/imgs/adater.jpg">
<meta property="article:published_time" content="2025-12-03T06:44:22.000Z">
<meta property="article:modified_time" content="2025-12-06T00:46:13.445Z">
<meta property="article:author" content="Felix">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/imgs/adater.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Kubernetesäº†è§£ä¸æ­å»º",
  "url": "http://example.com/2025/12/03/Kubernetes%E4%BA%86%E8%A7%A3%E4%B8%8E%E6%90%AD%E5%BB%BA/",
  "image": "http://example.com/imgs/adater.jpg",
  "datePublished": "2025-12-03T06:44:22.000Z",
  "dateModified": "2025-12-06T00:46:13.445Z",
  "author": [
    {
      "@type": "Person",
      "name": "Felix",
      "url": "http://example.com"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2025/12/03/Kubernetes%E4%BA%86%E8%A7%A3%E4%B8%8E%E6%90%AD%E5%BB%BA/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=5.5.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Kubernetesäº†è§£ä¸æ­å»º',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 8.0.0"></head><body><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/imgs/background_header.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Felixçš„ä¸ªäººåšå®¢</span></a><a class="nav-page-title" href="/"><span class="site-name">Kubernetesäº†è§£ä¸æ­å»º</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  Back to Home</span></span></a></span><div id="menus"></div></nav><div id="post-info"><h1 class="post-title">Kubernetesäº†è§£ä¸æ­å»º</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-12-03T06:44:22.000Z" title="Created 2025-12-03 14:44:22">2025-12-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-12-06T00:46:13.445Z" title="Updated 2025-12-06 08:46:13">2025-12-06</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="Kubernetesäº†è§£ä¸æ­å»º"><a href="#Kubernetesäº†è§£ä¸æ­å»º" class="headerlink" title="Kubernetesäº†è§£ä¸æ­å»º"></a>Kubernetesäº†è§£ä¸æ­å»º</h1><h2 id="Kubernetes-ä»‹ç»"><a href="#Kubernetes-ä»‹ç»" class="headerlink" title="Kubernetes ä»‹ç»"></a>Kubernetes ä»‹ç»</h2><p>Kubernetesï¼ˆç®€ç§° <strong>K8s</strong>ï¼‰æ˜¯ Google å¼€æºçš„å®¹å™¨ç¼–æ’ç®¡ç†å¹³å°ï¼Œç”¨äºè‡ªåŠ¨åŒ–éƒ¨ç½²ã€æ‰©ç¼©å®¹ã€è´Ÿè½½å‡è¡¡å’Œç›‘æ§å®¹å™¨åŒ–åº”ç”¨ã€‚</p>
<h3 id="ä¸ºä»€ä¹ˆéœ€è¦-Kubernetesï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆéœ€è¦-Kubernetesï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦ Kubernetesï¼Ÿ"></a>ä¸ºä»€ä¹ˆéœ€è¦ Kubernetesï¼Ÿ</h3><p>åœ¨ä¼ ç»Ÿå¾®æœåŠ¡æ¶æ„ä¸­ï¼Œåº”ç”¨éƒ¨ç½²ã€æ‰©å®¹ã€å‡çº§é€šå¸¸éœ€è¦æ‰‹åŠ¨å¹²é¢„ï¼Œè¿ç»´æˆæœ¬é«˜ä¸”å®¹é”™èƒ½åŠ›å¼±ã€‚è€Œ Kubernetes å°†è¿™äº›èƒ½åŠ›è‡ªåŠ¨åŒ–ã€å¹³å°åŒ–ï¼š</p>
<blockquote>
<p><strong>åº”ç”¨äº¤ç»™ K8s â†’ èµ„æºè°ƒåº¦ã€è´Ÿè½½å‡è¡¡ã€è‡ªæ„ˆã€æ‰©ç¼©å®¹å…¨è‡ªåŠ¨å®Œæˆ</strong></p>
</blockquote>
<h3 id="K8s-çš„æ ¸å¿ƒèƒ½åŠ›"><a href="#K8s-çš„æ ¸å¿ƒèƒ½åŠ›" class="headerlink" title="K8s çš„æ ¸å¿ƒèƒ½åŠ›"></a>K8s çš„æ ¸å¿ƒèƒ½åŠ›</h3><table>
<thead>
<tr>
<th>ä¼ ç»Ÿæ¶æ„ç—›ç‚¹</th>
<th>K8s è§£å†³æ–¹æ¡ˆ</th>
</tr>
</thead>
<tbody><tr>
<td>éƒ¨ç½²å¤æ‚ï¼Œå‡çº§å¯èƒ½åœæœº</td>
<td>æ»šåŠ¨æ›´æ–° &amp; ä¸€é”®å›æ»š</td>
</tr>
<tr>
<td>æµé‡æ¿€å¢æ‰©å®¹æ…¢</td>
<td>è‡ªåŠ¨æ‰©ç¼©å®¹ï¼ˆHPAï¼‰</td>
</tr>
<tr>
<td>è´Ÿè½½å‡è¡¡éœ€è¦é¢å¤–ç»´æŠ¤</td>
<td>Service å†…ç½® LB</td>
</tr>
<tr>
<td>å®¹å™¨å®•æœºéœ€äººå·¥æ¢å¤</td>
<td>è‡ªåŠ¨è‡ªæ„ˆ &amp; å¥åº·æ£€æŸ¥</td>
</tr>
<tr>
<td>èµ„æºåˆ©ç”¨ç‡ä½</td>
<td>è‡ªåŠ¨è°ƒåº¦ä¸åˆ†é…</td>
</tr>
<tr>
<td>é…ç½®æ··ä¹±ä¸å¯ç®¡ç†</td>
<td>å£°æ˜å¼ YAML é…ç½®</td>
</tr>
</tbody></table>
<hr>
<h3 id="Kubernetes-æ•´ä½“æ¶æ„"><a href="#Kubernetes-æ•´ä½“æ¶æ„" class="headerlink" title="Kubernetes æ•´ä½“æ¶æ„"></a>Kubernetes æ•´ä½“æ¶æ„</h3><p>Kubernetes ç”± <strong>Master æ§åˆ¶å¹³é¢</strong> + <strong>Worker å·¥ä½œèŠ‚ç‚¹</strong> ç»„æˆï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p><img src="/./imgs/image-20251205091240340.png" alt="image-20251205091240340"></p>
<h4 id="âœ¨-Master-æ§åˆ¶å¹³é¢ç»„ä»¶"><a href="#âœ¨-Master-æ§åˆ¶å¹³é¢ç»„ä»¶" class="headerlink" title="âœ¨ Master æ§åˆ¶å¹³é¢ç»„ä»¶"></a>âœ¨ Master æ§åˆ¶å¹³é¢ç»„ä»¶</h4><table>
<thead>
<tr>
<th>ç»„ä»¶</th>
<th>èŒè´£</th>
</tr>
</thead>
<tbody><tr>
<td><strong>kubectl</strong></td>
<td>é›†ç¾¤ç®¡ç†çš„å‘½ä»¤è¡Œå…¥å£</td>
</tr>
<tr>
<td><strong>API Server</strong></td>
<td>é›†ç¾¤çš„æ•°æ®åº“äº¤äº’ã€ä»»åŠ¡è°ƒåº¦ä¸åˆ†é…</td>
</tr>
<tr>
<td><strong>etcd</strong></td>
<td>K8s æ ¸å¿ƒæ•°æ®åº“ï¼Œå­˜å‚¨é›†ç¾¤æ‰€æœ‰ä¿¡æ¯ï¼ˆå¿…é¡»ä¸ºå¥‡æ•°ä¸ªèŠ‚ç‚¹ï¼‰</td>
</tr>
<tr>
<td><strong>Scheduler</strong></td>
<td>è°ƒåº¦å™¨ï¼Œé€‰æ‹©æœ€é€‚åˆåˆ›å»º Pod çš„èŠ‚ç‚¹</td>
</tr>
<tr>
<td><strong>Controller Manager</strong></td>
<td>æ§åˆ¶å™¨ç®¡ç†ä¸­å¿ƒï¼Œç®¡ç†å„ç±»æ§åˆ¶å™¨ä¸ Pod ç”Ÿå‘½å‘¨æœŸ</td>
</tr>
</tbody></table>
<h4 id="ğŸ§±-Worker-èŠ‚ç‚¹ç»„ä»¶"><a href="#ğŸ§±-Worker-èŠ‚ç‚¹ç»„ä»¶" class="headerlink" title="ğŸ§± Worker èŠ‚ç‚¹ç»„ä»¶"></a>ğŸ§± Worker èŠ‚ç‚¹ç»„ä»¶</h4><table>
<thead>
<tr>
<th>ç»„ä»¶</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td><strong>kubelet</strong></td>
<td>æ‰§è¡Œè°ƒåº¦å‘½ä»¤ï¼Œç®¡ç†æœ¬èŠ‚ç‚¹å®¹å™¨</td>
</tr>
<tr>
<td><strong>kube-proxy</strong></td>
<td>è´Ÿè´£ Service ç½‘ç»œä»£ç†ä¸è´Ÿè½½å‡è¡¡</td>
</tr>
<tr>
<td><strong>Pod</strong></td>
<td>æœ€å°è¿è¡Œå•å…ƒï¼Œä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ç»„æˆ</td>
</tr>
</tbody></table>
<hr>
<h2 id="K8s-å·¥ä½œæµç¨‹"><a href="#K8s-å·¥ä½œæµç¨‹" class="headerlink" title="K8s å·¥ä½œæµç¨‹"></a>K8s å·¥ä½œæµç¨‹</h2><p>ä»¥åˆ›å»º Deployment ä¸ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl create deployment nginx --replicas=3 --image=nginx:1.14 --port=80 -n app</span><br></pre></td></tr></table></figure>

<p><img src="/./imgs/image-20251205091228984.png" alt="image-20251205091228984"></p>
<p><strong>æ•´ä¸ªæµç¨‹ï¼š</strong></p>
<ol>
<li><strong>kubectl æäº¤å‘½ä»¤</strong> â†’ ç»è¿‡ auth é‰´æƒ</li>
<li><strong>API Server è®°å½•</strong> â†’ ä¿¡æ¯å­˜å…¥ etcd ä¸­</li>
<li><strong>etcd å­˜å‚¨ä¿¡æ¯,è¿”å›æ¸…å•List</strong> â†’ è¯´æ˜éœ€è¦å“ªäº›ç»„ä»¶ååŠ©</li>
<li><strong>Scheduler + Controller Manager ç›‘å¬api-serverçš„listæ¸…å•ä¸­çš„èµ„æºè¯·æ±‚</strong> â†’ ä»æ¸…å•ä¸­æ˜ç¡®éœ€è¦è°ƒåº¦çš„èµ„æº</li>
<li><strong>Scheduler é€‰æ‹©æœ€é€‚åˆåˆ›å»ºPodçš„èŠ‚ç‚¹</strong> â†’ Controller Manager æ ¹æ®listæ¸…å•å‡†å¤‡å¯¹åº”çš„æ§åˆ¶å™¨èµ„æº</li>
<li><strong>API Server é€šçŸ¥è°ƒåº¦å™¨é€‰æ‹©èŠ‚ç‚¹çš„ kubelet</strong> â†’ kubelet æ‰§è¡Œåˆ›å»ºåŠ¨ä½œ</li>
<li><strong>æŒç»­ä¸ŠæŠ¥</strong> â†’ kubelet å°†æ‰€æœ‰äº‹ä»¶ä¸ŠæŠ¥ç»™ API Server â†’ etcd æŒç»­æ›´æ–°</li>
</ol>
<h2 id="Kubernetes-æ ¸å¿ƒæ¦‚å¿µè¯¦è§£"><a href="#Kubernetes-æ ¸å¿ƒæ¦‚å¿µè¯¦è§£" class="headerlink" title="Kubernetes æ ¸å¿ƒæ¦‚å¿µè¯¦è§£"></a>Kubernetes æ ¸å¿ƒæ¦‚å¿µè¯¦è§£</h2><p>åœ¨æ·±å…¥å®‰è£…ä¸éƒ¨ç½²ä¹‹å‰ï¼Œéœ€è¦ç†è§£ Kubernetes ä¸­çš„ä¸€äº›æ ¸å¿ƒæ¦‚å¿µï¼Œå®ƒä»¬æ˜¯ç†è§£ K8s å¦‚ä½•è°ƒåº¦ã€æ‰©å±•ã€è¿è¡Œå’Œç®¡ç†åº”ç”¨çš„åŸºç¡€ã€‚</p>
<hr>
<h3 id="ğŸš€-1-Podï¼ˆæœ€å°è¿è¡Œå•å…ƒï¼‰"><a href="#ğŸš€-1-Podï¼ˆæœ€å°è¿è¡Œå•å…ƒï¼‰" class="headerlink" title="ğŸš€ 1. Podï¼ˆæœ€å°è¿è¡Œå•å…ƒï¼‰"></a>ğŸš€ 1. Podï¼ˆæœ€å°è¿è¡Œå•å…ƒï¼‰</h3><p><strong>Pod æ˜¯ Kubernetes ä¸­æœ€å°çš„è°ƒåº¦ä¸è¿è¡Œå•ä½</strong>ï¼Œæ˜¯å¯¹ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨çš„å°è£…ã€‚<br> å¤šä¸ªå®¹å™¨åœ¨åŒä¸€ä¸ª Pod ä¸­å…±äº«ï¼š</p>
<ul>
<li><strong>ç½‘ç»œ</strong>ï¼ˆåŒä¸€ä¸ª IPï¼‰</li>
<li><strong>å­˜å‚¨</strong></li>
<li><strong>ç”Ÿå‘½å‘¨æœŸ</strong></li>
</ul>
<p>ğŸ“Œ é€šå¸¸ä¸€ä¸ª Pod åªè¿è¡Œä¸€ä¸ªåº”ç”¨å®¹å™¨ï¼Œå¦‚æœæ˜¯è¾…åŠ©å®¹å™¨é…ç½®ï¼ˆå¦‚ Sidecarï¼‰ï¼Œåˆ™å¯èƒ½åŒ…å«å¤šä¸ªã€‚</p>
<p>ç¤ºä¾‹åœºæ™¯ï¼š</p>
<ul>
<li>ä¸€ä¸ªåº”ç”¨å®¹å™¨ + æ—¥å¿—æ”¶é›†å®¹å™¨</li>
<li>ä¸€ä¸ªåº”ç”¨å®¹å™¨ + ä»£ç†å®¹å™¨</li>
</ul>
<p>ç¤ºä¾‹ YAMLï¼š</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">nginx-pod</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.21</span></span><br></pre></td></tr></table></figure>

<p>ğŸ“ <strong>Pod æœ¬èº«ä¸å¯é </strong>ï¼Œå¯èƒ½è¢«åˆ é™¤æˆ–é‡å»ºï¼Œæ‰€ä»¥éœ€è¦æ›´é«˜çº§æ§åˆ¶å™¨æ¥ä¿è¯æ•°é‡ä¸€è‡´ï¼Œæ¯”å¦‚ Deploymentã€‚</p>
<hr>
<h3 id="ğŸ“¦-2-Deploymentï¼ˆæ— çŠ¶æ€åº”ç”¨æ§åˆ¶å™¨ï¼‰"><a href="#ğŸ“¦-2-Deploymentï¼ˆæ— çŠ¶æ€åº”ç”¨æ§åˆ¶å™¨ï¼‰" class="headerlink" title="ğŸ“¦ 2. Deploymentï¼ˆæ— çŠ¶æ€åº”ç”¨æ§åˆ¶å™¨ï¼‰"></a>ğŸ“¦ 2. Deploymentï¼ˆæ— çŠ¶æ€åº”ç”¨æ§åˆ¶å™¨ï¼‰</h3><p>Deployment ç”¨äºç®¡ç† <strong>æ— çŠ¶æ€åº”ç”¨</strong>ï¼ˆStateless Appï¼‰ï¼Œæä¾›ï¼š</p>
<table>
<thead>
<tr>
<th>åŠŸèƒ½</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>å‰¯æœ¬æ•°ç®¡ç†</td>
<td>è‡ªåŠ¨ä¿æŒå›ºå®šå‰¯æœ¬</td>
</tr>
<tr>
<td>æ»šåŠ¨æ›´æ–°</td>
<td>æ— åœæœºå‘å¸ƒåº”ç”¨</td>
</tr>
<tr>
<td>å›æ»š</td>
<td>ä¸€é”®å›æ»šåˆ°å†å²ç‰ˆæœ¬</td>
</tr>
<tr>
<td>è‡ªæ„ˆèƒ½åŠ›</td>
<td>Pod æŒ‚æ‰è‡ªåŠ¨é‡å»º</td>
</tr>
</tbody></table>
<p><img src="/./imgs/image-20251205092756425.png" alt="image-20251205092756425"></p>
<p>ç¤ºä¾‹ YAMLï¼š</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">nginx-deployment</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">3</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">nginx</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">nginx:1.21</span></span><br></pre></td></tr></table></figure>

<p>æ•ˆæœæ•ˆæœï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kubectl get pods</span><br><span class="line">kubectl describe deploy nginx-deployment</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="ğŸŒ-3-Serviceï¼ˆæœåŠ¡è®¿é—®å…¥å£ï¼‰"><a href="#ğŸŒ-3-Serviceï¼ˆæœåŠ¡è®¿é—®å…¥å£ï¼‰" class="headerlink" title="ğŸŒ 3. Serviceï¼ˆæœåŠ¡è®¿é—®å…¥å£ï¼‰"></a>ğŸŒ 3. Serviceï¼ˆæœåŠ¡è®¿é—®å…¥å£ï¼‰</h3><p>Pod æ˜¯åŠ¨æ€å˜åŒ–çš„ï¼Œæ¯æ¬¡é‡å¯ Pod IP éƒ½ä¼šæ”¹å˜ï¼Œä¸ºäº†è§£å†³å†…éƒ¨è®¿é—®å’Œè´Ÿè½½å‡è¡¡é—®é¢˜ï¼Œéœ€è¦ Serviceã€‚</p>
<table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>åœºæ™¯</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>ClusterIP</td>
<td>é›†ç¾¤å†…éƒ¨è®¿é—®</td>
<td>é»˜è®¤ï¼Œæä¾›ç¨³å®šè™šæ‹Ÿ IP</td>
</tr>
<tr>
<td>NodePort</td>
<td>å¤–éƒ¨è®¿é—®</td>
<td>é€šè¿‡èŠ‚ç‚¹ IP + ç«¯å£è®¿é—®</td>
</tr>
<tr>
<td>LoadBalancer</td>
<td>äº‘å‚å•† LB</td>
<td>è‡ªåŠ¨åˆ›å»ºå…¬ç½‘è®¿é—®å…¥å£</td>
</tr>
<tr>
<td>Headless</td>
<td>å¾®æœåŠ¡ &amp; æœåŠ¡å‘ç°</td>
<td>ä½¿ç”¨ DNS è§£æå…¨éƒ¨ Pod IP</td>
</tr>
</tbody></table>
<p><img src="/./imgs/image-20251205092842212.png" alt="image-20251205092842212"></p>
<p>ç¤ºä¾‹ YAMLï¼ˆNodePortï¼‰ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Service</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">nginx-svc</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">nginx</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">NodePort</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">port:</span> <span class="number">80</span></span><br><span class="line">    <span class="attr">targetPort:</span> <span class="number">80</span></span><br><span class="line">    <span class="attr">nodePort:</span> <span class="number">30080</span></span><br></pre></td></tr></table></figure>

<p>è®¿é—®æ–¹å¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://NodeIP:30080</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="ğŸ”€-4-Ingressï¼ˆä¸ƒå±‚è´Ÿè½½å‡è¡¡å…¥å£ï¼‰"><a href="#ğŸ”€-4-Ingressï¼ˆä¸ƒå±‚è´Ÿè½½å‡è¡¡å…¥å£ï¼‰" class="headerlink" title="ğŸ”€ 4. Ingressï¼ˆä¸ƒå±‚è´Ÿè½½å‡è¡¡å…¥å£ï¼‰"></a>ğŸ”€ 4. Ingressï¼ˆä¸ƒå±‚è´Ÿè½½å‡è¡¡å…¥å£ï¼‰</h3><p>Service åªè´Ÿè´£å†…éƒ¨æµé‡èƒ½åŠ›ï¼Œè€Œå½“éœ€è¦ <strong>åŸŸåè®¿é—®ã€å¤šè·¯å¾„è·¯ç”±ã€HTTPSã€ç»Ÿä¸€ç½‘å…³</strong> æ—¶ï¼Œéœ€è¦ Ingressã€‚</p>
<table>
<thead>
<tr>
<th>åŠŸèƒ½</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>æä¾›åŸŸåè®¿é—®</td>
<td>&#x2F;appA &#x2F;appB æˆ–å¤šä¸ªåŸŸå</td>
</tr>
<tr>
<td>æ”¯æŒ HTTPS</td>
<td>ç®¡ç†è¯ä¹¦</td>
</tr>
<tr>
<td>æ”¯æŒæµé‡æ§åˆ¶</td>
<td>é™æµã€ç°åº¦å‘å¸ƒã€é‡å†™è·¯ç”±</td>
</tr>
</tbody></table>
<p>ç¤ºä¾‹ï¼ˆåŸºäº Nginx Ingressï¼‰ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">networking.k8s.io/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Ingress</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">web-ingress</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">rules:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">host:</span> <span class="string">app.test.com</span></span><br><span class="line">    <span class="attr">http:</span></span><br><span class="line">      <span class="attr">paths:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">path:</span> <span class="string">/</span></span><br><span class="line">        <span class="attr">pathType:</span> <span class="string">Prefix</span></span><br><span class="line">        <span class="attr">backend:</span></span><br><span class="line">          <span class="attr">service:</span></span><br><span class="line">            <span class="attr">name:</span> <span class="string">nginx-svc</span></span><br><span class="line">            <span class="attr">port:</span></span><br><span class="line">              <span class="attr">number:</span> <span class="number">80</span></span><br></pre></td></tr></table></figure>

<p>è®¿é—®æ–¹å¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://app.test.com</span><br></pre></td></tr></table></figure>

<h3 id="ğŸ’¡-æ ¸å¿ƒæ¦‚å¿µæ€»ç»“å›¾"><a href="#ğŸ’¡-æ ¸å¿ƒæ¦‚å¿µæ€»ç»“å›¾" class="headerlink" title="ğŸ’¡ æ ¸å¿ƒæ¦‚å¿µæ€»ç»“å›¾"></a>ğŸ’¡ æ ¸å¿ƒæ¦‚å¿µæ€»ç»“å›¾</h3><table>
<thead>
<tr>
<th>æ¦‚å¿µ</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>Pod</td>
<td>æœ€å°è¿è¡Œå•ä½</td>
</tr>
<tr>
<td>Deployment</td>
<td>ç®¡ç† Pod å¤åˆ¶ã€è‡ªæ„ˆã€æ›´æ–°</td>
</tr>
<tr>
<td>Service</td>
<td>ç¨³å®šè®¿é—®å…¥å£ã€è´Ÿè½½å‡è¡¡</td>
</tr>
<tr>
<td>Ingress</td>
<td>åå‘ä»£ç†ã€åŸŸåã€è·¯ç”±ã€è¯ä¹¦</td>
</tr>
<tr>
<td>ConfigMap</td>
<td>é…ç½®ç®¡ç†ï¼Œå¦‚ application.yml</td>
</tr>
<tr>
<td>Secret</td>
<td>åŠ å¯†æ•°æ®ï¼Œå¦‚å¯†ç ã€è¯ä¹¦</td>
</tr>
<tr>
<td>Namespace</td>
<td>å¤šç§Ÿæˆ·èµ„æºéš”ç¦»</td>
</tr>
<tr>
<td>Volume &#x2F; PVC</td>
<td>æŒä¹…åŒ–å­˜å‚¨</td>
</tr>
</tbody></table>
<hr>
<h3 id="ğŸš€-æµé‡è®¿é—®è·¯å¾„"><a href="#ğŸš€-æµé‡è®¿é—®è·¯å¾„" class="headerlink" title="ğŸš€ æµé‡è®¿é—®è·¯å¾„"></a>ğŸš€ æµé‡è®¿é—®è·¯å¾„</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">å¤–éƒ¨ç”¨æˆ·</span><br><span class="line">    â†“</span><br><span class="line">Ingressï¼ˆåŸŸåã€HTTPSã€è·¯ç”±ï¼‰</span><br><span class="line">    â†“</span><br><span class="line">Serviceï¼ˆè´Ÿè½½å‡è¡¡ã€æœåŠ¡å‘ç°ï¼‰</span><br><span class="line">    â†“</span><br><span class="line">Deploymentï¼ˆç®¡ç† Pod å‰¯æœ¬ã€è‡ªæ„ˆã€æ›´æ–°ï¼‰</span><br><span class="line">    â†“</span><br><span class="line">Podï¼ˆå®¹å™¨è¿è¡Œä¸šåŠ¡ï¼‰</span><br></pre></td></tr></table></figure>

<p>ä¸ä¼ ç»Ÿæ¶æ„ç›¸æ¯”ï¼š<strong>æ— éœ€æ‰‹åŠ¨ç»´æŠ¤ Nginx&#x2F;LVSï¼Œæ‰©ç¼©å®¹ä¸æ•…éšœæ¢å¤å®Œå…¨è‡ªåŠ¨åŒ–</strong></p>
<hr>
<h3 id="ä¸ä¼ ç»Ÿå¾®æœåŠ¡æ¶æ„å¯¹æ¯”"><a href="#ä¸ä¼ ç»Ÿå¾®æœåŠ¡æ¶æ„å¯¹æ¯”" class="headerlink" title="ä¸ä¼ ç»Ÿå¾®æœåŠ¡æ¶æ„å¯¹æ¯”"></a>ä¸ä¼ ç»Ÿå¾®æœåŠ¡æ¶æ„å¯¹æ¯”</h3><h4 id="ğŸ–¼-ä¼ ç»Ÿæ¶æ„ç¤ºæ„å›¾"><a href="#ğŸ–¼-ä¼ ç»Ÿæ¶æ„ç¤ºæ„å›¾" class="headerlink" title="ğŸ–¼ ä¼ ç»Ÿæ¶æ„ç¤ºæ„å›¾"></a>ğŸ–¼ ä¼ ç»Ÿæ¶æ„ç¤ºæ„å›¾</h4><p><img src="/./imgs/image-20251205091913041.png" alt="image-20251205091913041"></p>
<ul>
<li>è´Ÿè½½å‡è¡¡ä¾èµ– LVS &#x2F; Nginx</li>
<li>æ‰©å®¹éœ€è¦æ‰‹åŠ¨æ–°å¢åº”ç”¨èŠ‚ç‚¹</li>
<li>å‡çº§éœ€è¦åœæœºæˆ–å¤æ‚è„šæœ¬</li>
<li>æœåŠ¡å‘ç°ä¾èµ–æ³¨å†Œä¸­å¿ƒï¼ˆå¦‚ Nacosï¼‰</li>
</ul>
<h4 id="ğŸ–¼-Kubernetes-äº‘åŸç”Ÿæ¶æ„"><a href="#ğŸ–¼-Kubernetes-äº‘åŸç”Ÿæ¶æ„" class="headerlink" title="ğŸ–¼ Kubernetes + äº‘åŸç”Ÿæ¶æ„"></a>ğŸ–¼ Kubernetes + äº‘åŸç”Ÿæ¶æ„</h4><p><img src="/./imgs/image-20251203142028890.png" alt="image-20251203142028890"></p>
<table>
<thead>
<tr>
<th>äº‘åŸç”Ÿç»„ä»¶</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>Rancher</td>
<td>K8s å¯è§†åŒ–ç®¡ç†å¹³å°</td>
</tr>
<tr>
<td>Prometheus</td>
<td>ç›‘æ§å‘Šè­¦</td>
</tr>
<tr>
<td>SkyWalking</td>
<td>é“¾è·¯è¿½è¸ª</td>
</tr>
<tr>
<td>Nacos &#x2F; Istio</td>
<td>æœåŠ¡æ²»ç†ä¸ç½‘æ ¼</td>
</tr>
<tr>
<td>æŒä¹…åŒ–å­˜å‚¨</td>
<td>MySQL &#x2F; Redis &#x2F; Kafka &#x2F; MinIO ç­‰</td>
</tr>
</tbody></table>
<p>âœ¨ æ”¯æŒ <strong>è“ç»¿å‘å¸ƒã€ç°åº¦å‘å¸ƒã€è‡ªåŠ¨æ‰©ç¼©å®¹ã€å¼¹æ€§ä¼¸ç¼©ã€å¾®æœåŠ¡æ²»ç†ã€èµ„æºéš”ç¦»</strong></p>
<h2 id="k8séƒ¨ç½²æµç¨‹"><a href="#k8séƒ¨ç½²æµç¨‹" class="headerlink" title="k8séƒ¨ç½²æµç¨‹"></a>k8séƒ¨ç½²æµç¨‹</h2><h3 id="1-ç¯å¢ƒå‡†å¤‡"><a href="#1-ç¯å¢ƒå‡†å¤‡" class="headerlink" title="1. ç¯å¢ƒå‡†å¤‡"></a>1. ç¯å¢ƒå‡†å¤‡</h3><h4 id="èŠ‚ç‚¹è§’è‰²å’ŒIPé…ç½®"><a href="#èŠ‚ç‚¹è§’è‰²å’ŒIPé…ç½®" class="headerlink" title="èŠ‚ç‚¹è§’è‰²å’ŒIPé…ç½®"></a>èŠ‚ç‚¹è§’è‰²å’ŒIPé…ç½®</h4><ul>
<li>192.168.118.101 master01ï¼ˆ4c 4Gï¼‰</li>
<li>192.168.118.104 worker01ï¼ˆ2c 3Gï¼‰</li>
<li>192.168.118.105 worker02ï¼ˆ2c 3Gï¼‰</li>
</ul>
<h4 id="æ‰€æœ‰èŠ‚ç‚¹æ‰§è¡Œä»¥ä¸‹æ“ä½œ"><a href="#æ‰€æœ‰èŠ‚ç‚¹æ‰§è¡Œä»¥ä¸‹æ“ä½œ" class="headerlink" title="æ‰€æœ‰èŠ‚ç‚¹æ‰§è¡Œä»¥ä¸‹æ“ä½œ"></a>æ‰€æœ‰èŠ‚ç‚¹æ‰§è¡Œä»¥ä¸‹æ“ä½œ</h4><h5 id="å…³é—­é˜²ç«å¢™ã€SELinux-å’Œ-swap"><a href="#å…³é—­é˜²ç«å¢™ã€SELinux-å’Œ-swap" class="headerlink" title="å…³é—­é˜²ç«å¢™ã€SELinux å’Œ swap"></a>å…³é—­é˜²ç«å¢™ã€SELinux å’Œ swap</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld</span><br><span class="line">systemctl <span class="built_in">disable</span> firewalld</span><br><span class="line">setenforce 0</span><br><span class="line">sed -i <span class="string">&#x27;s/enforcing/disabled/&#x27;</span> /etc/selinux/config</span><br><span class="line">iptables -F &amp;&amp; iptables -t nat -F &amp;&amp; iptables -t mangle -F &amp;&amp; iptables -X</span><br><span class="line">swapoff -a  <span class="comment"># äº¤æ¢åˆ†åŒºå¿…é¡»è¦å…³é—­</span></span><br><span class="line">sed -ri <span class="string">&#x27;s/.*swap.*/#&amp;/&#x27;</span> /etc/fstab  <span class="comment"># æ°¸ä¹…å…³é—­swapåˆ†åŒºï¼Œ&amp;ç¬¦å·åœ¨sedå‘½ä»¤ä¸­ä»£è¡¨ä¸Šæ¬¡åŒ¹é…çš„ç»“æœ</span></span><br></pre></td></tr></table></figure>

<p><img src="/./imgs/image-20251203161216133.png" alt="image-20251203161216133"></p>
<h5 id="åŠ è½½-ip-vs-æ¨¡å—"><a href="#åŠ è½½-ip-vs-æ¨¡å—" class="headerlink" title="åŠ è½½ ip_vs æ¨¡å—"></a>åŠ è½½ ip_vs æ¨¡å—</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> $(<span class="built_in">ls</span> /usr/lib/modules/$(<span class="built_in">uname</span> -r)/kernel/net/netfilter/ipvs|grep -o <span class="string">&quot;^[^.]*&quot;</span>);<span class="keyword">do</span> <span class="built_in">echo</span> <span class="variable">$i</span>; /sbin/modinfo -F filename <span class="variable">$i</span> &gt;/dev/null 2&gt;&amp;1 &amp;&amp; /sbin/modprobe <span class="variable">$i</span>;<span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<p><img src="/./imgs/image-20251203160555564.png" alt="image-20251203160555564"></p>
<h5 id="ä¿®æ”¹ä¸»æœºå"><a href="#ä¿®æ”¹ä¸»æœºå" class="headerlink" title="ä¿®æ”¹ä¸»æœºå"></a>ä¿®æ”¹ä¸»æœºå</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># MasterèŠ‚ç‚¹</span></span><br><span class="line">hostnamectl set-hostname master</span><br><span class="line"><span class="comment"># Worker01èŠ‚ç‚¹</span></span><br><span class="line">hostnamectl set-hostname worker01</span><br><span class="line"><span class="comment"># Worker02èŠ‚ç‚¹</span></span><br><span class="line">hostnamectl set-hostname worker02</span><br></pre></td></tr></table></figure>

<h5 id="ä¿®æ”¹hostsæ–‡ä»¶"><a href="#ä¿®æ”¹hostsæ–‡ä»¶" class="headerlink" title="ä¿®æ”¹hostsæ–‡ä»¶"></a>ä¿®æ”¹hostsæ–‡ä»¶</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/hosts</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">192.168.118.101 master</span><br><span class="line">192.168.118.104 worker01</span><br><span class="line">192.168.118.105 worker02</span><br></pre></td></tr></table></figure>

<p><img src="/./imgs/image-20251203160638769.png" alt="image-20251203160638769"></p>
<h5 id="è°ƒæ•´å†…æ ¸å‚æ•°"><a href="#è°ƒæ•´å†…æ ¸å‚æ•°" class="headerlink" title="è°ƒæ•´å†…æ ¸å‚æ•°"></a>è°ƒæ•´å†…æ ¸å‚æ•°</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> &gt; /etc/sysctl.d/kubernetes.conf &lt;&lt; <span class="string">EOF</span></span><br><span class="line"><span class="string">net.bridge.bridge-nf-call-ip6tables=1</span></span><br><span class="line"><span class="string">net.bridge.bridge-nf-call-iptables=1</span></span><br><span class="line"><span class="string">net.ipv6.conf.all.disable_ipv6=1</span></span><br><span class="line"><span class="string">net.ipv4.ip_forward=1</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæ•ˆå‚æ•°</span></span><br><span class="line">sysctl --system</span><br></pre></td></tr></table></figure>

<p><img src="/./imgs/image-20251203160937046.png" alt="image-20251203160937046"></p>
<h3 id="2-æ‰€æœ‰èŠ‚ç‚¹å®‰è£…-Docker"><a href="#2-æ‰€æœ‰èŠ‚ç‚¹å®‰è£…-Docker" class="headerlink" title="2. æ‰€æœ‰èŠ‚ç‚¹å®‰è£… Docker"></a>2. æ‰€æœ‰èŠ‚ç‚¹å®‰è£… Docker</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸‹è½½å¯¹åº”ä¾èµ–</span></span><br><span class="line">yum install -y yum-utils device-mapper-persistent-data lvm2</span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½®é•œåƒæº</span></span><br><span class="line"><span class="comment"># åˆ›å»ºå¹¶å†™å…¥æ¸…åæºçš„ Docker ä¸“å±é…ç½®ï¼ˆdocker-ce.repoï¼‰</span></span><br><span class="line"><span class="built_in">cat</span> &gt; /etc/yum.repos.d/docker-ce.repo &lt;&lt; <span class="string">EOF</span></span><br><span class="line"><span class="string">[docker-ce-stable]</span></span><br><span class="line"><span class="string">name=Docker CE Stable - \$basearch</span></span><br><span class="line"><span class="string">baseurl=https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/centos/\$releasever/\$basearch/stable</span></span><br><span class="line"><span class="string">enabled=1</span></span><br><span class="line"><span class="string">gpgcheck=1</span></span><br><span class="line"><span class="string">gpgkey=https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/centos/gpg</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[docker-ce-stable-source]</span></span><br><span class="line"><span class="string">name=Docker CE Stable - Sources</span></span><br><span class="line"><span class="string">baseurl=https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/centos/\$releasever/source/stable</span></span><br><span class="line"><span class="string">enabled=0</span></span><br><span class="line"><span class="string">gpgcheck=1</span></span><br><span class="line"><span class="string">gpgkey=https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/centos/gpg</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[docker-ce-test]</span></span><br><span class="line"><span class="string">name=Docker CE Test - \$basearch</span></span><br><span class="line"><span class="string">baseurl=https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/centos/\$releasever/\$basearch/test</span></span><br><span class="line"><span class="string">enabled=0</span></span><br><span class="line"><span class="string">gpgcheck=1</span></span><br><span class="line"><span class="string">gpgkey=https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/centos/gpg</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[docker-ce-test-source]</span></span><br><span class="line"><span class="string">name=Docker CE Test - Sources</span></span><br><span class="line"><span class="string">baseurl=https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/centos/\$releasever/source/test</span></span><br><span class="line"><span class="string">enabled=0</span></span><br><span class="line"><span class="string">gpgcheck=1</span></span><br><span class="line"><span class="string">gpgkey=https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/centos/gpg</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…docker</span></span><br><span class="line">yum install -y docker-ce-20.10.18 docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure>

<p><img src="/./imgs/image-20251203163025257.png" alt="image-20251203163025257"></p>
<h4 id="é…ç½®Docker-daemon"><a href="#é…ç½®Docker-daemon" class="headerlink" title="é…ç½®Docker daemon"></a>é…ç½®Docker daemon</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> &gt; /etc/docker/daemon.json &lt;&lt;<span class="string">EOF</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">&quot;registry-mirrors&quot;: [</span></span><br><span class="line"><span class="string">    &quot;https://docker.1ms.run&quot;,</span></span><br><span class="line"><span class="string">    &quot;https://docker.domys.cc&quot;,</span></span><br><span class="line"><span class="string">    &quot;https://docker.imgdb.de&quot;,</span></span><br><span class="line"><span class="string">    &quot;https://docker-0.unsee.tech&quot;,</span></span><br><span class="line"><span class="string">    &quot;https://docker.hlmirror.com&quot;,</span></span><br><span class="line"><span class="string">    &quot;https://cjie.eu.org&quot;,</span></span><br><span class="line"><span class="string">    &quot;https://docker.m.daocloud.io&quot;,</span></span><br><span class="line"><span class="string">    &quot;https://hub.rat.dev&quot;,</span></span><br><span class="line"><span class="string">    &quot;https://docker.1panel.live&quot;,</span></span><br><span class="line"><span class="string">    &quot;https://docker.rainbond.cc&quot;</span></span><br><span class="line"><span class="string">  ],</span></span><br><span class="line"><span class="string">&quot;exec-opts&quot;: [&quot;native.cgroupdriver=systemd&quot;],</span></span><br><span class="line"><span class="string">&quot;log-driver&quot;: &quot;json-file&quot;,</span></span><br><span class="line"><span class="string">&quot;log-opts&quot;: &#123;</span></span><br><span class="line"><span class="string">&quot;max-size&quot;: &quot;100m&quot;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></table></figure>

<h4 id="å¯åŠ¨Docker"><a href="#å¯åŠ¨Docker" class="headerlink" title="å¯åŠ¨Docker"></a>å¯åŠ¨Docker</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl restart docker.service</span><br><span class="line">systemctl <span class="built_in">enable</span> docker.service</span><br></pre></td></tr></table></figure>

<h3 id="3-æ‰€æœ‰èŠ‚ç‚¹å®‰è£…-kubeadmã€kubelet-å’Œ-kubectl"><a href="#3-æ‰€æœ‰èŠ‚ç‚¹å®‰è£…-kubeadmã€kubelet-å’Œ-kubectl" class="headerlink" title="3. æ‰€æœ‰èŠ‚ç‚¹å®‰è£… kubeadmã€kubelet å’Œ kubectl"></a>3. æ‰€æœ‰èŠ‚ç‚¹å®‰è£… kubeadmã€kubelet å’Œ kubectl</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> &gt; /etc/yum.repos.d/kubernetes.repo &lt;&lt; <span class="string">EOF</span></span><br><span class="line"><span class="string">[kubernetes]</span></span><br><span class="line"><span class="string">name=Kubernetes</span></span><br><span class="line"><span class="string">baseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64</span></span><br><span class="line"><span class="string">enabled=1</span></span><br><span class="line"><span class="string">gpgcheck=0</span></span><br><span class="line"><span class="string">repo_gpgcheck=0</span></span><br><span class="line"><span class="string">gpgkey=https://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg</span></span><br><span class="line"><span class="string">https://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"></span><br><span class="line">yum install -y kubelet-1.20.15 kubeadm-1.20.15 kubectl-1.20.15</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼€æœºè‡ªå¯kubelet</span></span><br><span class="line">systemctl <span class="built_in">enable</span> kubelet.service</span><br></pre></td></tr></table></figure>

<p><img src="/./imgs/image-20251203164040020.png" alt="image-20251203164040020"></p>
<h3 id="4-ä¸Šä¼ é•œåƒå’Œåˆå§‹åŒ–é›†ç¾¤"><a href="#4-ä¸Šä¼ é•œåƒå’Œåˆå§‹åŒ–é›†ç¾¤" class="headerlink" title="4. ä¸Šä¼ é•œåƒå’Œåˆå§‹åŒ–é›†ç¾¤"></a>4. ä¸Šä¼ é•œåƒå’Œåˆå§‹åŒ–é›†ç¾¤</h3><h4 id="ä¸Šä¼ å‹ç¼©åŒ…ï¼Œå¯¼å…¥é•œåƒï¼ˆæ‰€æœ‰èŠ‚ç‚¹ï¼‰"><a href="#ä¸Šä¼ å‹ç¼©åŒ…ï¼Œå¯¼å…¥é•œåƒï¼ˆæ‰€æœ‰èŠ‚ç‚¹ï¼‰" class="headerlink" title="ä¸Šä¼ å‹ç¼©åŒ…ï¼Œå¯¼å…¥é•œåƒï¼ˆæ‰€æœ‰èŠ‚ç‚¹ï¼‰"></a>ä¸Šä¼ å‹ç¼©åŒ…ï¼Œå¯¼å…¥é•œåƒï¼ˆæ‰€æœ‰èŠ‚ç‚¹ï¼‰</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker load -i k8s_init.tar.gz</span><br></pre></td></tr></table></figure>

<p><img src="/./imgs/image-20251203164445043.png" alt="image-20251203164445043"></p>
<p><img src="/./imgs/image-20251203164458895.png" alt="image-20251203164458895"></p>
<h4 id="kubeadm-åˆå§‹åŒ–é›†ç¾¤ï¼ˆMasterèŠ‚ç‚¹ï¼‰"><a href="#kubeadm-åˆå§‹åŒ–é›†ç¾¤ï¼ˆMasterèŠ‚ç‚¹ï¼‰" class="headerlink" title="kubeadm åˆå§‹åŒ–é›†ç¾¤ï¼ˆMasterèŠ‚ç‚¹ï¼‰"></a>kubeadm åˆå§‹åŒ–é›†ç¾¤ï¼ˆMasterèŠ‚ç‚¹ï¼‰</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">kubeadm init \</span><br><span class="line">--apiserver-advertise-address=192.168.118.101 \</span><br><span class="line">--image-repository registry.aliyuncs.com/google_containers \</span><br><span class="line">--kubernetes-version=v1.20.15 \</span><br><span class="line">--service-cidr=10.96.0.0/16 \</span><br><span class="line">--pod-network-cidr=10.244.0.0/16 \</span><br><span class="line">--token-ttl=0</span><br></pre></td></tr></table></figure>

<p><img src="/./imgs/image-20251203165017971.png" alt="image-20251203165017971"></p>
<p>æŒ‰ç…§æç¤ºå¯åŠ¨é›†ç¾¤</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p <span class="variable">$HOME</span>/.kube</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">cp</span> -i /etc/kubernetes/admin.conf <span class="variable">$HOME</span>/.kube/config</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">chown</span> $(<span class="built_in">id</span> -u):$(<span class="built_in">id</span> -g) <span class="variable">$HOME</span>/.kube/config</span><br></pre></td></tr></table></figure>

<h4 id="å¤åˆ¶-kubeadm-join-å‘½ä»¤åŠ å…¥é›†ç¾¤"><a href="#å¤åˆ¶-kubeadm-join-å‘½ä»¤åŠ å…¥é›†ç¾¤" class="headerlink" title="å¤åˆ¶ kubeadm join å‘½ä»¤åŠ å…¥é›†ç¾¤"></a>å¤åˆ¶ kubeadm join å‘½ä»¤åŠ å…¥é›†ç¾¤</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># MasterèŠ‚ç‚¹åˆå§‹åŒ–å®Œæˆåä¼šè¾“å‡ºåŠ å…¥é›†ç¾¤çš„å‘½ä»¤ï¼Œå¤åˆ¶è¯¥å‘½ä»¤åœ¨workerèŠ‚ç‚¹æ‰§è¡Œ</span></span><br><span class="line">kubeadm <span class="built_in">join</span> 192.168.118.101:6443 --token xxxxxxx --discovery-token-ca-cert-hash sha256:xxxxxxx</span><br><span class="line"><span class="comment">#################ä¸‹é¢æ˜¯æˆ‘è¿è¡Œåç”Ÿæˆçš„####################</span></span><br><span class="line">kubeadm <span class="built_in">join</span> 192.168.118.101:6443 --token kxwdsz.r6vv2qtlodc49spn \</span><br><span class="line">    --discovery-token-ca-cert-hash sha256:e14578eecc333bf52d1a1951afee01fc3695f0cb24fab06215f72b8107bd9cf0</span><br></pre></td></tr></table></figure>

<p><img src="/./imgs/image-20251203165114383.png" alt="image-20251203165114383"></p>
<h4 id="WorkerèŠ‚ç‚¹æ‰§è¡Œåï¼Œåœ¨MasterèŠ‚ç‚¹é‡å¯kubelet"><a href="#WorkerèŠ‚ç‚¹æ‰§è¡Œåï¼Œåœ¨MasterèŠ‚ç‚¹é‡å¯kubelet" class="headerlink" title="WorkerèŠ‚ç‚¹æ‰§è¡Œåï¼Œåœ¨MasterèŠ‚ç‚¹é‡å¯kubelet"></a>WorkerèŠ‚ç‚¹æ‰§è¡Œåï¼Œåœ¨MasterèŠ‚ç‚¹é‡å¯kubelet</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart kubelet</span><br></pre></td></tr></table></figure>

<p><img src="/./imgs/image-20251203165731850.png" alt="image-20251203165731850"></p>
<h3 id="5-é›†ç¾¤é…ç½®ä¼˜åŒ–"><a href="#5-é›†ç¾¤é…ç½®ä¼˜åŒ–" class="headerlink" title="5. é›†ç¾¤é…ç½®ä¼˜åŒ–"></a>5. é›†ç¾¤é…ç½®ä¼˜åŒ–</h3><h4 id="å¼€å¯-IPVSï¼ˆMasterèŠ‚ç‚¹ï¼‰"><a href="#å¼€å¯-IPVSï¼ˆMasterèŠ‚ç‚¹ï¼‰" class="headerlink" title="å¼€å¯ IPVSï¼ˆMasterèŠ‚ç‚¹ï¼‰"></a>å¼€å¯ IPVSï¼ˆMasterèŠ‚ç‚¹ï¼‰</h4><h5 id="MasterèŠ‚ç‚¹ä¿®æ”¹kube-proxyé…ç½®"><a href="#MasterèŠ‚ç‚¹ä¿®æ”¹kube-proxyé…ç½®" class="headerlink" title="MasterèŠ‚ç‚¹ä¿®æ”¹kube-proxyé…ç½®"></a>MasterèŠ‚ç‚¹ä¿®æ”¹kube-proxyé…ç½®</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl edit cm kube-proxy -n=kube-system</span><br></pre></td></tr></table></figure>

<p>æ‰¾åˆ°ç¬¬44è¡Œçš„modeå­—æ®µï¼Œä¿®æ”¹ç›¸å…³å†…å®¹ï¼Œæ”¹ä¸ºipvsã€‚</p>
<p><img src="/./imgs/image-20251203165938171.png" alt="image-20251203165938171"></p>
<h3 id="kubectl-get-cs-é›†ç¾¤ä¸å¥åº·é—®é¢˜è§£å†³"><a href="#kubectl-get-cs-é›†ç¾¤ä¸å¥åº·é—®é¢˜è§£å†³" class="headerlink" title="kubectl get cs é›†ç¾¤ä¸å¥åº·é—®é¢˜è§£å†³"></a>kubectl get cs é›†ç¾¤ä¸å¥åº·é—®é¢˜è§£å†³</h3><h4 id="ä¿®æ”¹MasterèŠ‚ç‚¹é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹MasterèŠ‚ç‚¹é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹MasterèŠ‚ç‚¹é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹MasterèŠ‚ç‚¹é…ç½®æ–‡ä»¶</h4><h5 id="ç¼–è¾‘-kube-scheduler-yaml"><a href="#ç¼–è¾‘-kube-scheduler-yaml" class="headerlink" title="ç¼–è¾‘ kube-scheduler.yaml"></a>ç¼–è¾‘ kube-scheduler.yaml</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/kubernetes/manifests/kube-scheduler.yaml</span><br></pre></td></tr></table></figure>

<h5 id="ç¼–è¾‘-kube-controller-manager-yaml"><a href="#ç¼–è¾‘-kube-controller-manager-yaml" class="headerlink" title="ç¼–è¾‘ kube-controller-manager.yaml"></a>ç¼–è¾‘ kube-controller-manager.yaml</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/kubernetes/manifests/kube-controller-manager.yaml</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹å†…å®¹ï¼š</p>
<ul>
<li>æŠŠ <code>--bind-address=127.0.0.1</code> å˜æˆ <code>--bind-address=192.168.118.101</code>ï¼ˆä¿®æ”¹æˆmasterçš„IPï¼‰</li>
<li>æŠŠ <code>httpGet:</code> å­—æ®µä¸‹çš„ <code>host</code> ç”± <code>127.0.0.1</code> å˜æˆ <code>192.168.118.101</code>ï¼ˆæœ‰ä¸¤å¤„ï¼‰</li>
<li>æœç´¢ <code>port=0</code>ï¼ŒæŠŠè¿™ä¸€è¡Œæ³¨é‡Šæ‰ï¼š<code>#- --port=0</code></li>
</ul>
<p><img src="/./imgs/image-20251203170227999.png" alt="image-20251203170227999"></p>
<h4 id="å®‰è£…CNIç½‘ç»œæ’ä»¶ï¼ˆFlannelï¼‰"><a href="#å®‰è£…CNIç½‘ç»œæ’ä»¶ï¼ˆFlannelï¼‰" class="headerlink" title="å®‰è£…CNIç½‘ç»œæ’ä»¶ï¼ˆFlannelï¼‰"></a>å®‰è£…CNIç½‘ç»œæ’ä»¶ï¼ˆFlannelï¼‰</h4><h5 id="æ‰€æœ‰èŠ‚ç‚¹ä¸Šä¼ "><a href="#æ‰€æœ‰èŠ‚ç‚¹ä¸Šä¼ " class="headerlink" title="æ‰€æœ‰èŠ‚ç‚¹ä¸Šä¼ "></a>æ‰€æœ‰èŠ‚ç‚¹ä¸Šä¼ </h5><p><img src="/./imgs/image-20251203170609877.png" alt="image-20251203170609877"></p>
<p>æå–é•œåƒ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker load -i flannel-cni-plugin-v1.1.2.tar</span><br><span class="line">docker load -i flannel-V0.21.5.tar</span><br></pre></td></tr></table></figure>

<p><img src="/./imgs/image-20251203171046269.png" alt="image-20251203171046269"></p>
<h5 id="ä¸Šä¼ -kube-flannel-yml-æ–‡ä»¶åˆ°masterï¼Œæ‰§è¡Œï¼š"><a href="#ä¸Šä¼ -kube-flannel-yml-æ–‡ä»¶åˆ°masterï¼Œæ‰§è¡Œï¼š" class="headerlink" title="ä¸Šä¼  kube-flannel.yml æ–‡ä»¶åˆ°masterï¼Œæ‰§è¡Œï¼š"></a>ä¸Šä¼  kube-flannel.yml æ–‡ä»¶åˆ°masterï¼Œæ‰§è¡Œï¼š</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl apply -f kube-flannel.yml</span><br></pre></td></tr></table></figure>

<p><img src="/./imgs/image-20251203171107768.png" alt="image-20251203171107768"></p>
<h5 id="ç­‰å¾…podè½¬ä¸ºreadyçŠ¶æ€"><a href="#ç­‰å¾…podè½¬ä¸ºreadyçŠ¶æ€" class="headerlink" title="ç­‰å¾…podè½¬ä¸ºreadyçŠ¶æ€"></a>ç­‰å¾…podè½¬ä¸ºreadyçŠ¶æ€</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get pod -n kube-flannel</span><br></pre></td></tr></table></figure>

<p><img src="/./imgs/image-20251203171131434.png" alt="image-20251203171131434"></p>
<h3 id="6-æ£€æŸ¥é›†ç¾¤çŠ¶æ€"><a href="#6-æ£€æŸ¥é›†ç¾¤çŠ¶æ€" class="headerlink" title="6. æ£€æŸ¥é›†ç¾¤çŠ¶æ€"></a>6. æ£€æŸ¥é›†ç¾¤çŠ¶æ€</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹é›†ç¾¤å¥åº·çŠ¶æ€</span></span><br><span class="line">kubectl get cs</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ‰€æœ‰èŠ‚ç‚¹</span></span><br><span class="line">kubectl get nodes</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ‰€æœ‰pod</span></span><br><span class="line">kubectl get pods -A</span><br></pre></td></tr></table></figure>

<p><img src="/./imgs/image-20251203171229275.png" alt="image-20251203171229275"></p>
<h3 id="7-ä½¿ç”¨dockerè¿›è¡Œrancheréƒ¨ç½²"><a href="#7-ä½¿ç”¨dockerè¿›è¡Œrancheréƒ¨ç½²" class="headerlink" title="7. ä½¿ç”¨dockerè¿›è¡Œrancheréƒ¨ç½²"></a>7. ä½¿ç”¨dockerè¿›è¡Œrancheréƒ¨ç½²</h3><h4 id="ä½¿ç”¨Dockeréƒ¨ç½²rancher"><a href="#ä½¿ç”¨Dockeréƒ¨ç½²rancher" class="headerlink" title="ä½¿ç”¨Dockeréƒ¨ç½²rancher"></a>ä½¿ç”¨Dockeréƒ¨ç½²rancher</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --privileged -d --name rancher --restart=unless-stopped -p 80:80 -p 443:443 -v /opt/rancher:/var/lib/rancher rancher/rancher:v2.5.11</span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li><code>--privileged</code>ï¼šå¯ä»¥ä½¿æˆ‘ä»¬å¯åŠ¨çš„å®¹å™¨ç”¨ <code>root</code> çš„æ–¹å¼å¯åŠ¨ï¼ˆåœ¨ Rancher 2.5 ç‰ˆæœ¬ä»¥ä¸Šéœ€è¦åŠ ï¼‰</li>
<li><code>--restart</code>ï¼šé‡å¯ç­–ç•¥ï¼Œæˆ‘ä»¬é…ç½®çš„æ˜¯ <code>unless-stopped</code>ï¼Œè¡¨ç¤ºå½“å®¹å™¨é€€å‡ºæ—¶ï¼Œä¾¿ä¼šé‡æ–°å¯åŠ¨å®¹å™¨ï¼ˆé™¤éå®¹å™¨ä¹‹å‰å°±å¤„äºåœæ­¢ï¼‰</li>
</ul>
</blockquote>
<p><img src="/./imgs/image-20251203172650658.png" alt="image-20251203172650658"></p>
<h4 id="æŸ¥çœ‹rancherçŠ¶æ€"><a href="#æŸ¥çœ‹rancherçŠ¶æ€" class="headerlink" title="æŸ¥çœ‹rancherçŠ¶æ€"></a>æŸ¥çœ‹rancherçŠ¶æ€</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps | grep rancher</span><br></pre></td></tr></table></figure>

<p><img src="/./imgs/image-20251203172703556.png" alt="image-20251203172703556"></p>
<p><img src="/./imgs/image-20251203173058406.png" alt="image-20251203173058406"></p>
<h4 id="åœ¨rancherä¸Šç»‘å®šk8s"><a href="#åœ¨rancherä¸Šç»‘å®šk8s" class="headerlink" title="åœ¨rancherä¸Šç»‘å®šk8s"></a>åœ¨rancherä¸Šç»‘å®šk8s</h4><p>è®¾ç½®å®Œå¯†ç åè®¾ç½®url</p>
<p><img src="/./imgs/image-20251203173136026.png" alt="image-20251203173136026"></p>
<p>æ·»åŠ é›†ç¾¤ï¼Œé€‰æ‹©æ·»åŠ å…¶ä»–é›†ç¾¤</p>
<p><img src="/./imgs/image-20251203173356058.png" alt="image-20251203173356058"></p>
<p>é€‰æ‹©ç¬¬ä¸‰ä¸ªå¤åˆ¶å¹¶åœ¨masterä¸Šè¿è¡Œ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl --insecure -sfL https://192.168.118.101/v3/import/dxt2cn8sxdwsc9dp6xp6ldjrhv9d25flddz2hkqnmqcd7d67nn9pjw_c-g2tf4.yaml | kubectl apply -f -</span><br></pre></td></tr></table></figure>

<p><img src="/./imgs/image-20251203173513295.png" alt="image-20251203173513295"></p>
<p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„é›†ç¾¤ï¼Œä»ªè¡¨ç›˜ä»¥åŠeventsäº‹ä»¶</p>
<p><img src="/./imgs/image-20251203173544646.png" alt="image-20251203173544646"></p>
<p><img src="/./imgs/image-20251203173618171.png" alt="image-20251203173618171"></p>
<p><img src="/./imgs/image-20251203173709838.png" alt="image-20251203173709838"></p>
<h3 id="8-ä½¿ç”¨rancherè¿›è¡Œnignxéƒ¨ç½²"><a href="#8-ä½¿ç”¨rancherè¿›è¡Œnignxéƒ¨ç½²" class="headerlink" title="8.ä½¿ç”¨rancherè¿›è¡Œnignxéƒ¨ç½²"></a>8.ä½¿ç”¨rancherè¿›è¡Œnignxéƒ¨ç½²</h3><p><img src="/./imgs/image-20251205100006817.png" alt="image-20251205100006817"></p>
<h4 id="åˆ›å»ºdeployment"><a href="#åˆ›å»ºdeployment" class="headerlink" title="åˆ›å»ºdeployment"></a>åˆ›å»ºdeployment</h4><p><img src="/./imgs/image-20251205095959478.png" alt="image-20251205095959478"></p>
<p>ç¤ºä¾‹</p>
<p><img src="/./imgs/image-20251205100017313.png" alt="image-20251205100017313"></p>
<p>å…¶ä»–è®¾ç½®ï¼ŒåŒ…æ‹¬ç½‘ç»œï¼Œå¥åº·çŠ¶æ€ï¼Œç¯å¢ƒå˜é‡ç­‰</p>
<p><img src="/./imgs/image-20251205094949272.png" alt="image-20251205094949272"></p>
<p>åˆ›å»ºå®Œæˆåå¯ä»¥çœ‹è§æœ‰å¯¹åº”nginx</p>
<p><img src="/./imgs/image-20251205095032315.png" alt="image-20251205095032315"></p>
<p>è¿˜æœ‰å¯¹åº”ç”Ÿæˆçš„ä¸¤ä¸ªservice</p>
<p><img src="/./imgs/image-20251205095053658.png" alt="image-20251205095053658"></p>
<h2 id="Kubernetes-èµ„æºç®¡ç†æ–¹æ³•"><a href="#Kubernetes-èµ„æºç®¡ç†æ–¹æ³•" class="headerlink" title="Kubernetes èµ„æºç®¡ç†æ–¹æ³•"></a>Kubernetes èµ„æºç®¡ç†æ–¹æ³•</h2><p><strong>K8s æœ‰ä¸¤ç§èµ„æºç®¡ç†æ–¹å¼ï¼Œå„æœ‰ç‰¹ç‚¹ï¼š</strong></p>
<h4 id="1ï¸âƒ£-é™ˆè¿°å¼ç®¡ç†ï¼ˆå‘½ä»¤è¡Œç›´æ¥æ“ä½œï¼‰"><a href="#1ï¸âƒ£-é™ˆè¿°å¼ç®¡ç†ï¼ˆå‘½ä»¤è¡Œç›´æ¥æ“ä½œï¼‰" class="headerlink" title="1ï¸âƒ£ é™ˆè¿°å¼ç®¡ç†ï¼ˆå‘½ä»¤è¡Œç›´æ¥æ“ä½œï¼‰"></a>1ï¸âƒ£ é™ˆè¿°å¼ç®¡ç†ï¼ˆå‘½ä»¤è¡Œç›´æ¥æ“ä½œï¼‰</h4><ul>
<li>é€šè¿‡ kubectl å‘½ä»¤ç›´æ¥æ“ä½œèµ„æº</li>
<li>ä¼˜ç‚¹ï¼šå¿«é€Ÿã€ç®€æ´ï¼Œé€‚åˆä¸´æ—¶æ“ä½œå’Œæµ‹è¯•</li>
<li>ç¼ºç‚¹ï¼šä¸æ˜“è¿½è¸ªå˜æ›´å†å²ï¼Œä¸ä¾¿äºç‰ˆæœ¬æ§åˆ¶</li>
</ul>
<p><strong>å¸¸ç”¨å‘½ä»¤ï¼š</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»º</span></span><br><span class="line">kubectl create deployment nginx --image=nginx:1.14 --port=80 --replicas=3 -n app</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‘å¸ƒæœåŠ¡</span></span><br><span class="line">kubectl expose deployment nginx --port=8080 --target-port=80 --name=nginx-service --<span class="built_in">type</span>=NodePort -n app</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›´æ–°ç‰ˆæœ¬</span></span><br><span class="line">kubectl <span class="built_in">set</span> image deployment/nginx nginx=nginx:1.15 -n app</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰©ç¼©å®¹</span></span><br><span class="line">kubectl scale deployment nginx --replicas=5 -n app</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤</span></span><br><span class="line">kubectl delete deployment nginx -n app</span><br></pre></td></tr></table></figure>

<h4 id="2ï¸âƒ£-å£°æ˜å¼ç®¡ç†ï¼ˆYAML-é…ç½®æ–‡ä»¶ï¼‰"><a href="#2ï¸âƒ£-å£°æ˜å¼ç®¡ç†ï¼ˆYAML-é…ç½®æ–‡ä»¶ï¼‰" class="headerlink" title="2ï¸âƒ£ å£°æ˜å¼ç®¡ç†ï¼ˆYAML é…ç½®æ–‡ä»¶ï¼‰"></a>2ï¸âƒ£ å£°æ˜å¼ç®¡ç†ï¼ˆYAML é…ç½®æ–‡ä»¶ï¼‰</h4><ul>
<li>é€šè¿‡ç¼–å†™ YAML é…ç½®æ–‡ä»¶å®šä¹‰èµ„æºæœŸæœ›çŠ¶æ€</li>
<li>ä¼˜ç‚¹ï¼šæ˜“äºç‰ˆæœ¬æ§åˆ¶ã€è¿½è¸ªå˜æ›´ã€é‡å¤éƒ¨ç½²ï¼Œé€‚åˆç”Ÿäº§ç¯å¢ƒ</li>
<li>ç¼ºç‚¹ï¼šéœ€è¦ç¼–å†™å’Œç»´æŠ¤é…ç½®æ–‡ä»¶</li>
</ul>
<p><strong>åŸºæœ¬æ“ä½œï¼š</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹èµ„æºçš„ YAML é…ç½®</span></span><br><span class="line">kubectl get deployment nginx -o yaml</span><br><span class="line"></span><br><span class="line"><span class="comment"># è§£é‡Šèµ„æºé…ç½®å­—æ®µ</span></span><br><span class="line">kubectl explain deployment.metadata</span><br><span class="line"></span><br><span class="line"><span class="comment"># åº”ç”¨é…ç½®ï¼ˆåˆ›å»ºæˆ–æ›´æ–°ï¼‰</span></span><br><span class="line">kubectl apply -f nginx.yaml</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¦»çº¿ä¿®æ”¹é…ç½®ååº”ç”¨</span></span><br><span class="line">kubectl get deployment nginx -o yaml &gt; nginx.yaml</span><br><span class="line">vim nginx.yaml</span><br><span class="line">kubectl apply -f nginx.yaml</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨çº¿ç¼–è¾‘é…ç½®ï¼ˆç›´æ¥ä¿®æ”¹åç”Ÿæ•ˆï¼‰</span></span><br><span class="line">kubectl edit deployment nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤èµ„æº</span></span><br><span class="line">kubectl delete -f nginx.yaml</span><br></pre></td></tr></table></figure>

<p><strong>YAML é…ç½®æ–‡ä»¶æ ¼å¼è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>apiVersion</code>ï¼šAPI ç‰ˆæœ¬ï¼ˆå¦‚ v1ã€apps&#x2F;v1ï¼‰</li>
<li><code>kind</code>ï¼šèµ„æºç±»å‹ï¼ˆå¦‚ Podã€Deploymentã€Serviceï¼‰</li>
<li><code>metadata</code>ï¼šèµ„æºå…ƒæ•°æ®ï¼ˆåç§°ã€æ ‡ç­¾ç­‰ï¼‰</li>
<li><code>spec</code>ï¼šèµ„æºçš„æœŸæœ›è§„èŒƒ</li>
<li><code>status</code>ï¼šèµ„æºçš„å®é™…çŠ¶æ€ï¼ˆåªè¯»ï¼‰</li>
</ul>
<h2 id="kubectl-å‘½ä»¤å¿«é€Ÿæ‰‹å†Œ"><a href="#kubectl-å‘½ä»¤å¿«é€Ÿæ‰‹å†Œ" class="headerlink" title="kubectl å‘½ä»¤å¿«é€Ÿæ‰‹å†Œ"></a>kubectl å‘½ä»¤å¿«é€Ÿæ‰‹å†Œ</h2><h3 id="åŸºç¡€ä¿¡æ¯æŸ¥çœ‹"><a href="#åŸºç¡€ä¿¡æ¯æŸ¥çœ‹" class="headerlink" title="åŸºç¡€ä¿¡æ¯æŸ¥çœ‹"></a>åŸºç¡€ä¿¡æ¯æŸ¥çœ‹</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">kubectl version                          <span class="comment"># æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯</span></span><br><span class="line">kubectl cluster-info                     <span class="comment"># æŸ¥çœ‹é›†ç¾¤ä¿¡æ¯</span></span><br><span class="line">kubectl get cs                           <span class="comment"># æŸ¥çœ‹é›†ç¾¤ç»„ä»¶çŠ¶æ€</span></span><br><span class="line">kubectl get nodes                        <span class="comment"># æŸ¥çœ‹æ‰€æœ‰èŠ‚ç‚¹</span></span><br><span class="line">kubectl get namespaces / kubectl get ns  <span class="comment"># æŸ¥çœ‹å‘½åç©ºé—´</span></span><br></pre></td></tr></table></figure>

<h3 id="å‘½ä»¤å…¬å¼"><a href="#å‘½ä»¤å…¬å¼" class="headerlink" title="å‘½ä»¤å…¬å¼"></a>å‘½ä»¤å…¬å¼</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl [å‘½ä»¤ç±»å‹] [èµ„æºç±»å‹] [èµ„æºå] [-n namespace] [é€‰é¡¹]</span><br></pre></td></tr></table></figure>

<h3 id="å‘½åç©ºé—´ç®¡ç†"><a href="#å‘½åç©ºé—´ç®¡ç†" class="headerlink" title="å‘½åç©ºé—´ç®¡ç†"></a>å‘½åç©ºé—´ç®¡ç†</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">kubectl create ns app              <span class="comment"># åˆ›å»ºå‘½åç©ºé—´</span></span><br><span class="line">kubectl delete namespace app       <span class="comment"># åˆ é™¤å‘½åç©ºé—´</span></span><br><span class="line">kubectl get all -n app             <span class="comment"># æŸ¥çœ‹æŒ‡å®šå‘½åç©ºé—´çš„æ‰€æœ‰èµ„æº</span></span><br></pre></td></tr></table></figure>

<h3 id="èµ„æºæŸ¥çœ‹ï¼ˆå¢ã€åˆ ã€æ”¹ã€æŸ¥ï¼‰"><a href="#èµ„æºæŸ¥çœ‹ï¼ˆå¢ã€åˆ ã€æ”¹ã€æŸ¥ï¼‰" class="headerlink" title="èµ„æºæŸ¥çœ‹ï¼ˆå¢ã€åˆ ã€æ”¹ã€æŸ¥ï¼‰"></a>èµ„æºæŸ¥çœ‹ï¼ˆå¢ã€åˆ ã€æ”¹ã€æŸ¥ï¼‰</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹</span></span><br><span class="line">kubectl get pods [-n kube-system] [-o wide|json|yaml]</span><br><span class="line">kubectl get deployment -n app</span><br><span class="line">kubectl get service -n app</span><br><span class="line">kubectl describe pod &lt;pod-name&gt; -n app              <span class="comment"># æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line">kubectl logs &lt;pod-name&gt; [-c &lt;container&gt;] -n app     <span class="comment"># æŸ¥çœ‹æ—¥å¿—</span></span><br><span class="line">kubectl logs &lt;pod-name&gt; -p -n app                   <span class="comment"># æŸ¥çœ‹é‡å¯å‰çš„æ—¥å¿—</span></span><br></pre></td></tr></table></figure>

<h3 id="Pod-ç”Ÿå‘½å‘¨æœŸç®¡ç†"><a href="#Pod-ç”Ÿå‘½å‘¨æœŸç®¡ç†" class="headerlink" title="Pod ç”Ÿå‘½å‘¨æœŸç®¡ç†"></a>Pod ç”Ÿå‘½å‘¨æœŸç®¡ç†</h3><h4 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»º Deploymentï¼ˆæ¨èï¼‰</span></span><br><span class="line">kubectl create deployment nginx-ds --image=nginx:1.20 --port=80 --replicas=3 -n app</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‘å¸ƒ Service</span></span><br><span class="line">kubectl expose deployment nginx-ds --target-port=80 --port=8080 \</span><br><span class="line">  --name=nginx-service --<span class="built_in">type</span>=NodePort -n app</span><br></pre></td></tr></table></figure>

<p><img src="/./imgs/image-20251205092600825.png" alt="image-20251205092600825"></p>
<h4 id="æŸ¥çœ‹"><a href="#æŸ¥çœ‹" class="headerlink" title="æŸ¥çœ‹"></a>æŸ¥çœ‹</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">kubectl get pods -n app                    <span class="comment"># æŸ¥çœ‹ Pod åˆ—è¡¨</span></span><br><span class="line">kubectl describe pod &lt;pod-name&gt; -n app     <span class="comment"># æŸ¥çœ‹ Pod è¯¦æƒ…</span></span><br><span class="line">kubectl get pod -w -n app                  <span class="comment"># å®æ—¶ç›‘å¬ Pod çŠ¶æ€</span></span><br><span class="line">kubectl get svc -n app                     <span class="comment"># æŸ¥çœ‹ Service</span></span><br></pre></td></tr></table></figure>

<h4 id="æ‰©ç¼©å®¹"><a href="#æ‰©ç¼©å®¹" class="headerlink" title="æ‰©ç¼©å®¹"></a>æ‰©ç¼©å®¹</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kubectl scale deployment nginx-ds --replicas=5 -n app    <span class="comment"># æ‰©å®¹åˆ° 5 ä¸ªå‰¯æœ¬</span></span><br><span class="line">kubectl scale deployment nginx-ds --replicas=2 -n app    <span class="comment"># ç¼©å®¹åˆ° 2 ä¸ªå‰¯æœ¬</span></span><br></pre></td></tr></table></figure>

<h4 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">kubectl delete pod &lt;pod-name&gt; -n app                           <span class="comment"># åˆ é™¤ Pod</span></span><br><span class="line">kubectl delete pod &lt;pod-name&gt; --force --grace-period=0 -n app  <span class="comment"># å¼ºåˆ¶åˆ é™¤</span></span><br><span class="line">kubectl delete deployment nginx-ds -n app                      <span class="comment"># åˆ é™¤ Deployment</span></span><br><span class="line">kubectl delete svc nginx-service -n app                        <span class="comment"># åˆ é™¤ Service</span></span><br></pre></td></tr></table></figure>

<h3 id="è¿›å…¥å®¹å™¨"><a href="#è¿›å…¥å®¹å™¨" class="headerlink" title="è¿›å…¥å®¹å™¨"></a>è¿›å…¥å®¹å™¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl <span class="built_in">exec</span> -it &lt;pod-name&gt; bash -n app  <span class="comment"># è¿›å…¥å®¹å™¨ï¼ˆå¯è·¨ä¸»æœºï¼‰</span></span><br></pre></td></tr></table></figure>

<h3 id="åº”ç”¨æ›´æ–°ä¸å›æ»š"><a href="#åº”ç”¨æ›´æ–°ä¸å›æ»š" class="headerlink" title="åº”ç”¨æ›´æ–°ä¸å›æ»š"></a>åº”ç”¨æ›´æ–°ä¸å›æ»š</h3><h4 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kubectl <span class="built_in">set</span> image deployment/nginx nginx=nginx:1.15 -n app</span><br><span class="line">kubectl <span class="built_in">set</span> <span class="built_in">env</span> deployment/nginx ENV_VAR=value -n app</span><br></pre></td></tr></table></figure>

<h4 id="æ»šåŠ¨æ›´æ–°ç›‘å¬"><a href="#æ»šåŠ¨æ›´æ–°ç›‘å¬" class="headerlink" title="æ»šåŠ¨æ›´æ–°ç›‘å¬"></a>æ»šåŠ¨æ›´æ–°ç›‘å¬</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kubectl get pods -w -n app  <span class="comment"># ç›‘å¬æ»šåŠ¨æ›´æ–°è¿‡ç¨‹</span></span><br><span class="line">curl -I http://NodeIP:NodePort  <span class="comment"># éªŒè¯ç‰ˆæœ¬</span></span><br></pre></td></tr></table></figure>

<h4 id="å›æ»š"><a href="#å›æ»š" class="headerlink" title="å›æ»š"></a>å›æ»š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">kubectl rollout <span class="built_in">history</span> deployment/nginx -n app                  <span class="comment"># æŸ¥çœ‹æ›´æ–°å†å²</span></span><br><span class="line">kubectl rollout undo deployment/nginx -n app                     <span class="comment"># å›æ»šåˆ°ä¸Šä¸€ç‰ˆæœ¬</span></span><br><span class="line">kubectl rollout undo deployment/nginx --to-revision=1 -n app     <span class="comment"># å›æ»šåˆ°æŒ‡å®šç‰ˆæœ¬</span></span><br><span class="line">kubectl rollout status deployment/nginx -n app                   <span class="comment"># æŸ¥çœ‹å›æ»šçŠ¶æ€</span></span><br></pre></td></tr></table></figure>

<h3 id="é‡‘ä¸é›€å‘å¸ƒ"><a href="#é‡‘ä¸é›€å‘å¸ƒ" class="headerlink" title="é‡‘ä¸é›€å‘å¸ƒ"></a>é‡‘ä¸é›€å‘å¸ƒ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ›´æ–°å¹¶æš‚åœ</span></span><br><span class="line">kubectl <span class="built_in">set</span> image deployment/nginx nginx=nginx:1.14 &amp;&amp; kubectl rollout pause deployment/nginx -n app</span><br><span class="line"></span><br><span class="line"><span class="comment"># è§‚å¯Ÿæ›´æ–°</span></span><br><span class="line">kubectl get pods -w -n app</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¡®è®¤æ— è¯¯åç»§ç»­</span></span><br><span class="line">kubectl rollout resume deployment/nginx -n app</span><br></pre></td></tr></table></figure>

<h3 id="æ ‡ç­¾ä¸è¿‡æ»¤"><a href="#æ ‡ç­¾ä¸è¿‡æ»¤" class="headerlink" title="æ ‡ç­¾ä¸è¿‡æ»¤"></a>æ ‡ç­¾ä¸è¿‡æ»¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">kubectl get pods --show-labels -n app           <span class="comment"># æ˜¾ç¤ºæ ‡ç­¾</span></span><br><span class="line">kubectl get pods -l app=nginx -n app            <span class="comment"># æŒ‰æ ‡ç­¾è¿‡æ»¤</span></span><br><span class="line">kubectl get pods -l app=nginx,tier=frontend -n app  <span class="comment"># å¤šæ ‡ç­¾è¿‡æ»¤</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="K8s-æ’éšœä¸‡é‡‘æ²¹"><a href="#K8s-æ’éšœä¸‡é‡‘æ²¹" class="headerlink" title="K8s æ’éšœä¸‡é‡‘æ²¹"></a>K8s æ’éšœä¸‡é‡‘æ²¹</h2><ol>
<li><strong>æŸ¥çœ‹ç®€ç•¥ä¿¡æ¯</strong>ï¼š<code>kubectl get</code></li>
<li><strong>æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ä¸äº‹ä»¶</strong>ï¼š<code>kubectl describe</code></li>
<li><strong>æŸ¥çœ‹æ—¥å¿—</strong>ï¼š<code>kubectl logs</code></li>
<li><strong>é’ˆå¯¹æ€§æ’æŸ¥</strong>ï¼šæ ¹æ®äº‹ä»¶ä¸æ—¥å¿—åˆ†æé—®é¢˜</li>
</ol>
<hr>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>Kubernetes çš„æ ¸å¿ƒåœ¨äºï¼š</p>
<ul>
<li><strong>å£°æ˜å¼ç®¡ç†</strong>ï¼šå®šä¹‰æœŸæœ›çŠ¶æ€ï¼ŒK8s è‡ªåŠ¨è°ƒæ•´</li>
<li><strong>è‡ªåŠ¨åŒ–è¿ç»´</strong>ï¼šè‡ªæ„ˆã€è‡ªæ‰©å±•ã€è‡ªæ›´æ–°</li>
<li><strong>èµ„æºéš”ç¦»</strong>ï¼šNamespace å®ç°å¤šç§Ÿæˆ·</li>
<li><strong>é«˜å¯ç”¨</strong>ï¼šåˆ†å¸ƒå¼éƒ¨ç½²ã€æ•…éšœè‡ªåŠ¨è½¬ç§»</li>
</ul>
<p>æŒæ¡ kubectl å‘½ä»¤å’Œæ ¸å¿ƒæ¦‚å¿µï¼Œå°±èƒ½æœ‰æ•ˆåœ°ç®¡ç†å®¹å™¨åŒ–åº”ç”¨ã€‚</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="http://example.com">Felix</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="http://example.com/2025/12/03/Kubernetes%E4%BA%86%E8%A7%A3%E4%B8%8E%E6%90%AD%E5%BB%BA/">http://example.com/2025/12/03/Kubernetes%E4%BA%86%E8%A7%A3%E4%B8%8E%E6%90%AD%E5%BB%BA/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-share"><div class="social-share" data-image="/imgs/adater.jpg" data-sites="facebook,x,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/12/06/Kubernetes%20Pod%20%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="Ansible"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">Ansible</div></div><div class="info-2"><div class="info-item-1">Kubernetes Pod å­¦ä¹ ç¬”è®°Pod åŸºç¡€æ¦‚å¿µPod æ˜¯ Kubernetes ä¸­æœ€å°çš„è°ƒåº¦ä¸è¿è¡Œå•ä½ï¼Œæ˜¯å¯¹ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨çš„å°è£…ã€‚Kubernetes ç›´æ¥ç®¡ç†çš„æ˜¯ Podï¼Œè€Œä¸æ˜¯å®¹å™¨ã€‚ Pod çš„æ ¸å¿ƒç‰¹æ€§ å…±äº«èµ„æº  åŒä¸€ä¸ª Pod ä¸­çš„å®¹å™¨è¿è¡Œåœ¨åŒä¸€ä¸ª Node èŠ‚ç‚¹ä¸Š å®¹å™¨ä¹‹é—´é€šè¿‡ localhost äº’ç›¸é€šä¿¡ å…±äº«åŒä¸€ä¸ª IP åœ°å€å’Œç«¯å£èŒƒå›´ å…±äº«åŒä¸€ä¸ªå­˜å‚¨å·ï¼ˆVolumeï¼‰ï¼Œå®ç°å®¹å™¨é—´çš„æ•°æ®å…±äº«   ç”Ÿå‘½å‘¨æœŸ  Pod å†…çš„å®¹å™¨å…±äº«ç”Ÿå‘½å‘¨æœŸ å¦‚æœ Pod è¢«åˆ é™¤ï¼Œå®¹å™¨ä¹Ÿéšä¹‹æ¶ˆå¤± Pod æ˜¯ä¸´æ—¶æ€§çš„ï¼Œå¯èƒ½è¢«åˆ é™¤æˆ–é‡å»º     Pod çš„ä¸‰ç§å®¹å™¨ç±»å‹1ï¸âƒ£ Pause å®¹å™¨ï¼ˆåŸºç¡€æ¶æ„å®¹å™¨ï¼‰å®šä¹‰ï¼šPod ä¸­ç¬¬ä¸€ä¸ªè¢«å¯åŠ¨çš„å®¹å™¨ï¼Œä¹Ÿç§°ä¸º Infrastructure Containerã€Sandbox Container æ ¸å¿ƒä½œç”¨ï¼š  æŒæœ‰ç½‘ç»œå‘½åç©ºé—´ï¼šä¸º Pod åˆ†é… IP åœ°å€ï¼Œæ‰€æœ‰ä¸šåŠ¡å®¹å™¨é€šè¿‡åŠ å…¥ Pause å®¹å™¨çš„ç½‘ç»œå‘½åç©ºé—´æ¥å…±äº«è¿™ä¸ª IP ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼šå……å½“ Pod çš„â€çˆ¶å®¹å™¨â€ï¼Œå¦‚æœ Pause å®¹å™¨æŒ‚äº†ï¼Œæ•´ä¸ª Pod çš„ç½‘ç»œç¯å¢ƒå°±æ¶ˆå¤±äº† åƒµå°¸è¿›ç¨‹å›æ”¶ï¼šå……å½“...</div></div></div></a><a class="pagination-related" href="/2025/12/02/Prometheus%E7%9B%91%E6%8E%A7-%E9%92%89%E9%92%89%E8%AD%A6%E5%91%8A-%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/" title="Prometheusç›‘æ§+é’‰é’‰è­¦å‘Š éƒ¨ç½²æŒ‡å—"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">Prometheusç›‘æ§+é’‰é’‰è­¦å‘Š éƒ¨ç½²æŒ‡å—</div></div><div class="info-2"><div class="info-item-1">Prometheusç›‘æ§+é’‰é’‰è­¦å‘Š éƒ¨ç½²æŒ‡å—ä¸€ã€ç®€ä»‹åŠä½œç”¨ç®€ä»‹Prometheus æ˜¯ä¸€ä¸ªå¼€æºçš„ç›‘æ§å’Œå‘Šè­¦ç³»ç»Ÿï¼Œå¹¿æ³›åº”ç”¨äºäº‘åŸç”Ÿç¯å¢ƒä¸­ã€‚å®ƒé€šè¿‡æ‹‰å–æ¨¡å¼ä¸»åŠ¨é‡‡é›†ç›®æ ‡ç³»ç»Ÿçš„æ—¶é—´åºåˆ—æŒ‡æ ‡æ•°æ®ï¼Œç»è¿‡çµæ´»çš„å‘Šè­¦è§„åˆ™å¤„ç†åï¼Œç”± AlertManager ç»Ÿä¸€ç®¡ç†å’Œåˆ†å‘å‘Šè­¦ã€‚é’‰é’‰ä½œä¸ºä¼ä¸šçº§å®æ—¶é€šè®¯å·¥å…·ï¼Œå¯é€šè¿‡è‡ªå®šä¹‰æœºå™¨äººæ¥æ”¶å‘Šè­¦æ¶ˆæ¯ï¼Œè®©è¿ç»´å›¢é˜Ÿåœ¨ç¬¬ä¸€æ—¶é—´è·çŸ¥ç³»ç»Ÿå¼‚å¸¸ï¼Œå¤§å¤§æé«˜äº†é—®é¢˜çš„å‘ç°å’Œå“åº”æ•ˆç‡ã€‚ æœ¬æŒ‡å—å°†æŒ‡å¯¼ä½ æ•´åˆ Prometheus + AlertManager + é’‰é’‰ï¼Œæ„å»ºä¸€å¥—ä¼ä¸šçº§çš„ç›‘æ§å‘Šè­¦ç³»ç»Ÿã€‚ ç³»ç»Ÿä½œç”¨å®æ—¶ç›‘æ§  å…¨é¢é‡‡é›†æœåŠ¡å™¨ã€åº”ç”¨ã€æ•°æ®åº“ç­‰å„ç±»ç³»ç»ŸæŒ‡æ ‡ æ”¯æŒè‡ªå®šä¹‰æŒ‡æ ‡å’Œåº”ç”¨åŸ‹ç‚¹ æ¯«ç§’çº§çš„æ•°æ®é‡‡é›†å’Œå­˜å‚¨  æ™ºèƒ½å‘Šè­¦  åŸºäºé˜ˆå€¼å’Œè§„åˆ™çš„çµæ´»å‘Šè­¦æœºåˆ¶ æ”¯æŒå‘Šè­¦åˆ†ç»„ã€å»é‡å’Œè·¯ç”± é¿å…å‘Šè­¦é£æš´ï¼Œæé«˜ä¿¡å·ä¿¡å™ªæ¯”  åŠæ—¶é€šçŸ¥  ä¸é’‰é’‰æ·±åº¦é›†æˆï¼Œå‘Šè­¦å®æ—¶æ¨é€åˆ°ä¼ä¸šç¾¤ æ”¯æŒ Markdown æ ¼å¼çš„ä¸°å¯Œå‘Šè­¦æ¶ˆæ¯ æ„å»ºå®Œæ•´çš„å‘Šè­¦è¿½è¸ªé“¾è·¯  å†å²æ•°æ®  é•¿æœŸä¿å­˜ç›‘æ§æ•°æ®ç”¨äºè¶‹åŠ¿åˆ†æ æ”¯æŒæ•°æ®æŸ¥è¯¢å’Œç¦»çº¿åˆ†æ ä¾¿äºé—®é¢˜æ ¹å› åˆ†æå’Œæ€§èƒ½ä¼˜åŒ–  é€‚ç”¨åœºæ™¯ æœåŠ¡å™¨ç›‘æ§ï¼šCPUã€å†…å­˜ã€ç£ç›˜ã€ç½‘ç»œç­‰èµ„æºå‘Šè­¦ ...</div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/imgs/adater.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Felix</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">32</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/falsezxy"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Kubernetes%E4%BA%86%E8%A7%A3%E4%B8%8E%E6%90%AD%E5%BB%BA"><span class="toc-number">1.</span> <span class="toc-text">Kubernetesäº†è§£ä¸æ­å»º</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Kubernetes-%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.1.</span> <span class="toc-text">Kubernetes ä»‹ç»</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81-Kubernetes%EF%BC%9F"><span class="toc-number">1.1.1.</span> <span class="toc-text">ä¸ºä»€ä¹ˆéœ€è¦ Kubernetesï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#K8s-%E7%9A%84%E6%A0%B8%E5%BF%83%E8%83%BD%E5%8A%9B"><span class="toc-number">1.1.2.</span> <span class="toc-text">K8s çš„æ ¸å¿ƒèƒ½åŠ›</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Kubernetes-%E6%95%B4%E4%BD%93%E6%9E%B6%E6%9E%84"><span class="toc-number">1.1.3.</span> <span class="toc-text">Kubernetes æ•´ä½“æ¶æ„</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%9C%A8-Master-%E6%8E%A7%E5%88%B6%E5%B9%B3%E9%9D%A2%E7%BB%84%E4%BB%B6"><span class="toc-number">1.1.3.1.</span> <span class="toc-text">âœ¨ Master æ§åˆ¶å¹³é¢ç»„ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%A7%B1-Worker-%E8%8A%82%E7%82%B9%E7%BB%84%E4%BB%B6"><span class="toc-number">1.1.3.2.</span> <span class="toc-text">ğŸ§± Worker èŠ‚ç‚¹ç»„ä»¶</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#K8s-%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B"><span class="toc-number">1.2.</span> <span class="toc-text">K8s å·¥ä½œæµç¨‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Kubernetes-%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5%E8%AF%A6%E8%A7%A3"><span class="toc-number">1.3.</span> <span class="toc-text">Kubernetes æ ¸å¿ƒæ¦‚å¿µè¯¦è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%9A%80-1-Pod%EF%BC%88%E6%9C%80%E5%B0%8F%E8%BF%90%E8%A1%8C%E5%8D%95%E5%85%83%EF%BC%89"><span class="toc-number">1.3.1.</span> <span class="toc-text">ğŸš€ 1. Podï¼ˆæœ€å°è¿è¡Œå•å…ƒï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%93%A6-2-Deployment%EF%BC%88%E6%97%A0%E7%8A%B6%E6%80%81%E5%BA%94%E7%94%A8%E6%8E%A7%E5%88%B6%E5%99%A8%EF%BC%89"><span class="toc-number">1.3.2.</span> <span class="toc-text">ğŸ“¦ 2. Deploymentï¼ˆæ— çŠ¶æ€åº”ç”¨æ§åˆ¶å™¨ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8C%8D-3-Service%EF%BC%88%E6%9C%8D%E5%8A%A1%E8%AE%BF%E9%97%AE%E5%85%A5%E5%8F%A3%EF%BC%89"><span class="toc-number">1.3.3.</span> <span class="toc-text">ğŸŒ 3. Serviceï¼ˆæœåŠ¡è®¿é—®å…¥å£ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%94%80-4-Ingress%EF%BC%88%E4%B8%83%E5%B1%82%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E5%85%A5%E5%8F%A3%EF%BC%89"><span class="toc-number">1.3.4.</span> <span class="toc-text">ğŸ”€ 4. Ingressï¼ˆä¸ƒå±‚è´Ÿè½½å‡è¡¡å…¥å£ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%92%A1-%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5%E6%80%BB%E7%BB%93%E5%9B%BE"><span class="toc-number">1.3.5.</span> <span class="toc-text">ğŸ’¡ æ ¸å¿ƒæ¦‚å¿µæ€»ç»“å›¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%9A%80-%E6%B5%81%E9%87%8F%E8%AE%BF%E9%97%AE%E8%B7%AF%E5%BE%84"><span class="toc-number">1.3.6.</span> <span class="toc-text">ğŸš€ æµé‡è®¿é—®è·¯å¾„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8E%E4%BC%A0%E7%BB%9F%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84%E5%AF%B9%E6%AF%94"><span class="toc-number">1.3.7.</span> <span class="toc-text">ä¸ä¼ ç»Ÿå¾®æœåŠ¡æ¶æ„å¯¹æ¯”</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%96%BC-%E4%BC%A0%E7%BB%9F%E6%9E%B6%E6%9E%84%E7%A4%BA%E6%84%8F%E5%9B%BE"><span class="toc-number">1.3.7.1.</span> <span class="toc-text">ğŸ–¼ ä¼ ç»Ÿæ¶æ„ç¤ºæ„å›¾</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%96%BC-Kubernetes-%E4%BA%91%E5%8E%9F%E7%94%9F%E6%9E%B6%E6%9E%84"><span class="toc-number">1.3.7.2.</span> <span class="toc-text">ğŸ–¼ Kubernetes + äº‘åŸç”Ÿæ¶æ„</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#k8s%E9%83%A8%E7%BD%B2%E6%B5%81%E7%A8%8B"><span class="toc-number">1.4.</span> <span class="toc-text">k8séƒ¨ç½²æµç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87"><span class="toc-number">1.4.1.</span> <span class="toc-text">1. ç¯å¢ƒå‡†å¤‡</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8A%82%E7%82%B9%E8%A7%92%E8%89%B2%E5%92%8CIP%E9%85%8D%E7%BD%AE"><span class="toc-number">1.4.1.1.</span> <span class="toc-text">èŠ‚ç‚¹è§’è‰²å’ŒIPé…ç½®</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%80%E6%9C%89%E8%8A%82%E7%82%B9%E6%89%A7%E8%A1%8C%E4%BB%A5%E4%B8%8B%E6%93%8D%E4%BD%9C"><span class="toc-number">1.4.1.2.</span> <span class="toc-text">æ‰€æœ‰èŠ‚ç‚¹æ‰§è¡Œä»¥ä¸‹æ“ä½œ</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B3%E9%97%AD%E9%98%B2%E7%81%AB%E5%A2%99%E3%80%81SELinux-%E5%92%8C-swap"><span class="toc-number">1.4.1.2.1.</span> <span class="toc-text">å…³é—­é˜²ç«å¢™ã€SELinux å’Œ swap</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8A%A0%E8%BD%BD-ip-vs-%E6%A8%A1%E5%9D%97"><span class="toc-number">1.4.1.2.2.</span> <span class="toc-text">åŠ è½½ ip_vs æ¨¡å—</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E4%B8%BB%E6%9C%BA%E5%90%8D"><span class="toc-number">1.4.1.2.3.</span> <span class="toc-text">ä¿®æ”¹ä¸»æœºå</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9hosts%E6%96%87%E4%BB%B6"><span class="toc-number">1.4.1.2.4.</span> <span class="toc-text">ä¿®æ”¹hostsæ–‡ä»¶</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%B0%83%E6%95%B4%E5%86%85%E6%A0%B8%E5%8F%82%E6%95%B0"><span class="toc-number">1.4.1.2.5.</span> <span class="toc-text">è°ƒæ•´å†…æ ¸å‚æ•°</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%89%80%E6%9C%89%E8%8A%82%E7%82%B9%E5%AE%89%E8%A3%85-Docker"><span class="toc-number">1.4.2.</span> <span class="toc-text">2. æ‰€æœ‰èŠ‚ç‚¹å®‰è£… Docker</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AEDocker-daemon"><span class="toc-number">1.4.2.1.</span> <span class="toc-text">é…ç½®Docker daemon</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8Docker"><span class="toc-number">1.4.2.2.</span> <span class="toc-text">å¯åŠ¨Docker</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%89%80%E6%9C%89%E8%8A%82%E7%82%B9%E5%AE%89%E8%A3%85-kubeadm%E3%80%81kubelet-%E5%92%8C-kubectl"><span class="toc-number">1.4.3.</span> <span class="toc-text">3. æ‰€æœ‰èŠ‚ç‚¹å®‰è£… kubeadmã€kubelet å’Œ kubectl</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E4%B8%8A%E4%BC%A0%E9%95%9C%E5%83%8F%E5%92%8C%E5%88%9D%E5%A7%8B%E5%8C%96%E9%9B%86%E7%BE%A4"><span class="toc-number">1.4.4.</span> <span class="toc-text">4. ä¸Šä¼ é•œåƒå’Œåˆå§‹åŒ–é›†ç¾¤</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8A%E4%BC%A0%E5%8E%8B%E7%BC%A9%E5%8C%85%EF%BC%8C%E5%AF%BC%E5%85%A5%E9%95%9C%E5%83%8F%EF%BC%88%E6%89%80%E6%9C%89%E8%8A%82%E7%82%B9%EF%BC%89"><span class="toc-number">1.4.4.1.</span> <span class="toc-text">ä¸Šä¼ å‹ç¼©åŒ…ï¼Œå¯¼å…¥é•œåƒï¼ˆæ‰€æœ‰èŠ‚ç‚¹ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#kubeadm-%E5%88%9D%E5%A7%8B%E5%8C%96%E9%9B%86%E7%BE%A4%EF%BC%88Master%E8%8A%82%E7%82%B9%EF%BC%89"><span class="toc-number">1.4.4.2.</span> <span class="toc-text">kubeadm åˆå§‹åŒ–é›†ç¾¤ï¼ˆMasterèŠ‚ç‚¹ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%8D%E5%88%B6-kubeadm-join-%E5%91%BD%E4%BB%A4%E5%8A%A0%E5%85%A5%E9%9B%86%E7%BE%A4"><span class="toc-number">1.4.4.3.</span> <span class="toc-text">å¤åˆ¶ kubeadm join å‘½ä»¤åŠ å…¥é›†ç¾¤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Worker%E8%8A%82%E7%82%B9%E6%89%A7%E8%A1%8C%E5%90%8E%EF%BC%8C%E5%9C%A8Master%E8%8A%82%E7%82%B9%E9%87%8D%E5%90%AFkubelet"><span class="toc-number">1.4.4.4.</span> <span class="toc-text">WorkerèŠ‚ç‚¹æ‰§è¡Œåï¼Œåœ¨MasterèŠ‚ç‚¹é‡å¯kubelet</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AE%E4%BC%98%E5%8C%96"><span class="toc-number">1.4.5.</span> <span class="toc-text">5. é›†ç¾¤é…ç½®ä¼˜åŒ–</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%90%AF-IPVS%EF%BC%88Master%E8%8A%82%E7%82%B9%EF%BC%89"><span class="toc-number">1.4.5.1.</span> <span class="toc-text">å¼€å¯ IPVSï¼ˆMasterèŠ‚ç‚¹ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Master%E8%8A%82%E7%82%B9%E4%BF%AE%E6%94%B9kube-proxy%E9%85%8D%E7%BD%AE"><span class="toc-number">1.4.5.1.1.</span> <span class="toc-text">MasterèŠ‚ç‚¹ä¿®æ”¹kube-proxyé…ç½®</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#kubectl-get-cs-%E9%9B%86%E7%BE%A4%E4%B8%8D%E5%81%A5%E5%BA%B7%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3"><span class="toc-number">1.4.6.</span> <span class="toc-text">kubectl get cs é›†ç¾¤ä¸å¥åº·é—®é¢˜è§£å†³</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9Master%E8%8A%82%E7%82%B9%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">1.4.6.1.</span> <span class="toc-text">ä¿®æ”¹MasterèŠ‚ç‚¹é…ç½®æ–‡ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BC%96%E8%BE%91-kube-scheduler-yaml"><span class="toc-number">1.4.6.1.1.</span> <span class="toc-text">ç¼–è¾‘ kube-scheduler.yaml</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BC%96%E8%BE%91-kube-controller-manager-yaml"><span class="toc-number">1.4.6.1.2.</span> <span class="toc-text">ç¼–è¾‘ kube-controller-manager.yaml</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85CNI%E7%BD%91%E7%BB%9C%E6%8F%92%E4%BB%B6%EF%BC%88Flannel%EF%BC%89"><span class="toc-number">1.4.6.2.</span> <span class="toc-text">å®‰è£…CNIç½‘ç»œæ’ä»¶ï¼ˆFlannelï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%80%E6%9C%89%E8%8A%82%E7%82%B9%E4%B8%8A%E4%BC%A0"><span class="toc-number">1.4.6.2.1.</span> <span class="toc-text">æ‰€æœ‰èŠ‚ç‚¹ä¸Šä¼ </span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%8A%E4%BC%A0-kube-flannel-yml-%E6%96%87%E4%BB%B6%E5%88%B0master%EF%BC%8C%E6%89%A7%E8%A1%8C%EF%BC%9A"><span class="toc-number">1.4.6.2.2.</span> <span class="toc-text">ä¸Šä¼  kube-flannel.yml æ–‡ä»¶åˆ°masterï¼Œæ‰§è¡Œï¼š</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AD%89%E5%BE%85pod%E8%BD%AC%E4%B8%BAready%E7%8A%B6%E6%80%81"><span class="toc-number">1.4.6.2.3.</span> <span class="toc-text">ç­‰å¾…podè½¬ä¸ºreadyçŠ¶æ€</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E6%A3%80%E6%9F%A5%E9%9B%86%E7%BE%A4%E7%8A%B6%E6%80%81"><span class="toc-number">1.4.7.</span> <span class="toc-text">6. æ£€æŸ¥é›†ç¾¤çŠ¶æ€</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E4%BD%BF%E7%94%A8docker%E8%BF%9B%E8%A1%8Crancher%E9%83%A8%E7%BD%B2"><span class="toc-number">1.4.8.</span> <span class="toc-text">7. ä½¿ç”¨dockerè¿›è¡Œrancheréƒ¨ç½²</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Docker%E9%83%A8%E7%BD%B2rancher"><span class="toc-number">1.4.8.1.</span> <span class="toc-text">ä½¿ç”¨Dockeréƒ¨ç½²rancher</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8Brancher%E7%8A%B6%E6%80%81"><span class="toc-number">1.4.8.2.</span> <span class="toc-text">æŸ¥çœ‹rancherçŠ¶æ€</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8rancher%E4%B8%8A%E7%BB%91%E5%AE%9Ak8s"><span class="toc-number">1.4.8.3.</span> <span class="toc-text">åœ¨rancherä¸Šç»‘å®šk8s</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E4%BD%BF%E7%94%A8rancher%E8%BF%9B%E8%A1%8Cnignx%E9%83%A8%E7%BD%B2"><span class="toc-number">1.4.9.</span> <span class="toc-text">8.ä½¿ç”¨rancherè¿›è¡Œnignxéƒ¨ç½²</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAdeployment"><span class="toc-number">1.4.9.1.</span> <span class="toc-text">åˆ›å»ºdeployment</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Kubernetes-%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%E6%96%B9%E6%B3%95"><span class="toc-number">1.5.</span> <span class="toc-text">Kubernetes èµ„æºç®¡ç†æ–¹æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%B8%8F%E2%83%A3-%E9%99%88%E8%BF%B0%E5%BC%8F%E7%AE%A1%E7%90%86%EF%BC%88%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%9B%B4%E6%8E%A5%E6%93%8D%E4%BD%9C%EF%BC%89"><span class="toc-number">1.5.0.1.</span> <span class="toc-text">1ï¸âƒ£ é™ˆè¿°å¼ç®¡ç†ï¼ˆå‘½ä»¤è¡Œç›´æ¥æ“ä½œï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%B8%8F%E2%83%A3-%E5%A3%B0%E6%98%8E%E5%BC%8F%E7%AE%A1%E7%90%86%EF%BC%88YAML-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%89"><span class="toc-number">1.5.0.2.</span> <span class="toc-text">2ï¸âƒ£ å£°æ˜å¼ç®¡ç†ï¼ˆYAML é…ç½®æ–‡ä»¶ï¼‰</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#kubectl-%E5%91%BD%E4%BB%A4%E5%BF%AB%E9%80%9F%E6%89%8B%E5%86%8C"><span class="toc-number">1.6.</span> <span class="toc-text">kubectl å‘½ä»¤å¿«é€Ÿæ‰‹å†Œ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E4%BF%A1%E6%81%AF%E6%9F%A5%E7%9C%8B"><span class="toc-number">1.6.1.</span> <span class="toc-text">åŸºç¡€ä¿¡æ¯æŸ¥çœ‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E5%85%AC%E5%BC%8F"><span class="toc-number">1.6.2.</span> <span class="toc-text">å‘½ä»¤å…¬å¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E7%AE%A1%E7%90%86"><span class="toc-number">1.6.3.</span> <span class="toc-text">å‘½åç©ºé—´ç®¡ç†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B5%84%E6%BA%90%E6%9F%A5%E7%9C%8B%EF%BC%88%E5%A2%9E%E3%80%81%E5%88%A0%E3%80%81%E6%94%B9%E3%80%81%E6%9F%A5%EF%BC%89"><span class="toc-number">1.6.4.</span> <span class="toc-text">èµ„æºæŸ¥çœ‹ï¼ˆå¢ã€åˆ ã€æ”¹ã€æŸ¥ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Pod-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86"><span class="toc-number">1.6.5.</span> <span class="toc-text">Pod ç”Ÿå‘½å‘¨æœŸç®¡ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA"><span class="toc-number">1.6.5.1.</span> <span class="toc-text">åˆ›å»º</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B"><span class="toc-number">1.6.5.2.</span> <span class="toc-text">æŸ¥çœ‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%A9%E7%BC%A9%E5%AE%B9"><span class="toc-number">1.6.5.3.</span> <span class="toc-text">æ‰©ç¼©å®¹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4"><span class="toc-number">1.6.5.4.</span> <span class="toc-text">åˆ é™¤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E5%85%A5%E5%AE%B9%E5%99%A8"><span class="toc-number">1.6.6.</span> <span class="toc-text">è¿›å…¥å®¹å™¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E6%9B%B4%E6%96%B0%E4%B8%8E%E5%9B%9E%E6%BB%9A"><span class="toc-number">1.6.7.</span> <span class="toc-text">åº”ç”¨æ›´æ–°ä¸å›æ»š</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0"><span class="toc-number">1.6.7.1.</span> <span class="toc-text">æ›´æ–°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BB%9A%E5%8A%A8%E6%9B%B4%E6%96%B0%E7%9B%91%E5%90%AC"><span class="toc-number">1.6.7.2.</span> <span class="toc-text">æ»šåŠ¨æ›´æ–°ç›‘å¬</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9E%E6%BB%9A"><span class="toc-number">1.6.7.3.</span> <span class="toc-text">å›æ»š</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%91%E4%B8%9D%E9%9B%80%E5%8F%91%E5%B8%83"><span class="toc-number">1.6.8.</span> <span class="toc-text">é‡‘ä¸é›€å‘å¸ƒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE%E4%B8%8E%E8%BF%87%E6%BB%A4"><span class="toc-number">1.6.9.</span> <span class="toc-text">æ ‡ç­¾ä¸è¿‡æ»¤</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#K8s-%E6%8E%92%E9%9A%9C%E4%B8%87%E9%87%91%E6%B2%B9"><span class="toc-number">1.7.</span> <span class="toc-text">K8s æ’éšœä¸‡é‡‘æ²¹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.8.</span> <span class="toc-text">æ€»ç»“</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/06/Kubernetes%20Pod%20%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="Ansible">Ansible</a><time datetime="2025-12-06T00:54:40.000Z" title="Created 2025-12-06 08:54:40">2025-12-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/03/Kubernetes%E4%BA%86%E8%A7%A3%E4%B8%8E%E6%90%AD%E5%BB%BA/" title="Kubernetesäº†è§£ä¸æ­å»º">Kubernetesäº†è§£ä¸æ­å»º</a><time datetime="2025-12-03T06:44:22.000Z" title="Created 2025-12-03 14:44:22">2025-12-03</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/02/Prometheus%E7%9B%91%E6%8E%A7-%E9%92%89%E9%92%89%E8%AD%A6%E5%91%8A-%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/" title="Prometheusç›‘æ§+é’‰é’‰è­¦å‘Š éƒ¨ç½²æŒ‡å—">Prometheusç›‘æ§+é’‰é’‰è­¦å‘Š éƒ¨ç½²æŒ‡å—</a><time datetime="2025-12-02T05:39:16.000Z" title="Created 2025-12-02 13:39:16">2025-12-02</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/02/Prometheus/" title="Prometheusç›‘æ§ç³»ç»Ÿ">Prometheusç›‘æ§ç³»ç»Ÿ</a><time datetime="2025-12-02T00:55:58.000Z" title="Created 2025-12-02 08:55:58">2025-12-02</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/01/Ansible/" title="Ansible">Ansible</a><time datetime="2025-12-01T00:54:40.000Z" title="Created 2025-12-01 08:54:40">2025-12-01</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/imgs/background_footer.jpg);"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 By Felix</span><span class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 8.0.0</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.1</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.1"></script><script src="/js/main.js?v=5.5.1"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>